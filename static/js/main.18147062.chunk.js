(this["webpackJsonptasty-app"]=this["webpackJsonptasty-app"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(20),s=n.n(r),i=(n(45),n(46),n(9)),o=n(3),d=n(8),j=n(13),l=n.n(j),u={"x-rapidapi-host":"tasty.p.rapidapi.com","x-rapidapi-key":"65e4251756msh24b324dbde441d4p110b99jsnec75540b02f6"},b="https://tasty.p.rapidapi.com/",h=n(1);function p(e){var t=Object(o.g)(),n=Object(c.useState)({}),a=Object(d.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),j=Object(d.a)(i,2),p=j[0],O=j[1],x=Object(c.useState)(null),f=Object(d.a)(x,2),g=f[0],v=f[1],m=r.name,y=r.description,w=r.num_servings,_=r.credits,T=r.cook_time_minutes,k=r.instructions,q=r.nutrition,E=(r.thumbnail_url,r.thumbnail_alt_text,r.id,r.original_video_url),S=r.user_ratings;p&&k.slice().sort((function(e,t){return e.position-t.position}));var C={method:"GET",url:"".concat(b,"recipes/detail"),params:{id:t.id},headers:u};return Object(c.useEffect)((function(){l.a.request(C).then((function(e){s(e.data),O(!0),console.log(e.data)})).catch((function(e){v(e)}))}),[]),p?g?Object(h.jsx)("p",{children:g}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:m}),Object(h.jsxs)("h2",{children:["By: ",_.map((function(e){return e.name+", "}))]}),Object(h.jsxs)("h3",{children:["Servings: ",w," | ",T," minutes"]}),Object(h.jsxs)("h3",{children:["Up votes: ",S.count_positive," | Down votes:"," ",S.count_negative," | Rating:"," ",Math.round(100*S.score),"%"]}),Object(h.jsx)("video",{controls:!0,width:"480",src:E}),Object(h.jsxs)("p",{children:["Description: ",y]}),Object(h.jsxs)("div",{className:"instructions",children:[Object(h.jsx)("h3",{children:"Instructions"}),k.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:[Object(h.jsxs)("strong",{children:["Step ",e.position]}),Object(h.jsx)("br",{}),e.display_text]},e.id),Object(h.jsx)("br",{})]})}))]}),Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Calories"}),Object(h.jsx)("th",{children:q.calories})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"carbohydrates"}),Object(h.jsx)("td",{children:q.carbohydrates})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"sugar"}),Object(h.jsx)("td",{children:q.sugar})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"fat"}),Object(h.jsx)("td",{children:q.fat})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"protein"}),Object(h.jsx)("td",{children:q.protein})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"fiber"}),Object(h.jsx)("td",{children:q.fiber})]})]})]})]}):Object(h.jsx)("p",{children:"Loading..."})}var O,x,f,g,v,m=n(10),y=n(11),w=n(4),_=y.a.header(O||(O=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  padding: 0 2vw;\n  border: 1vw tomato solid;\n\n  & div {\n    display: flex;\n    align-items: center;\n  }\n\n  & li {\n    display: inline;\n    margin: 1vw;\n  }\n\n  & form {\n    display: flex;\n    gap: 1vw;\n  }\n"])));function T(e){var t=Object(o.e)(),n=Object(c.useState)(""),a=Object(d.a)(n,2),r=a[0],s=a[1],j=Object(w.b)();return Object(h.jsxs)(_,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Recipes"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/search/",children:"Search"})})]})]}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j({type:"set-page-num",payload:0}),t.push("/search/".concat(r))},children:[Object(h.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}}),Object(h.jsx)("button",{children:"search"})]})]})}var k=y.a.div(x||(x=Object(m.a)(["\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n"]))),q=y.a.div(f||(f=Object(m.a)(["\n  width: 400px;\n  height: 400px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover "," {\n    display: flex;\n  }\n"])),(function(e){return e.bgImg}),k),E=y.a.div(g||(g=Object(m.a)(["\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n"]))),S=y.a.span(v||(v=Object(m.a)(["\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n"])));function C(e){var t=e.recipe,n=t.thumbnail_url,c=t.credits,a=t.name,r=t.tags,s=t.id;return Object(h.jsx)(i.b,{to:"/details/".concat(s),children:Object(h.jsxs)(q,{bgImg:n,children:[Object(h.jsxs)(E,{children:[Object(h.jsx)("h2",{children:a}),Object(h.jsxs)("h4",{children:["by: ",c[0].name]})]}),Object(h.jsx)(k,{children:r.map((function(e){return Object(h.jsx)(S,{children:e.display_name},e.id)}))})]})})}n(74);var N,F=function(e){var t=e.recipes.map((function(e){return Object(h.jsx)(C,{id:e.id,recipe:e},e.id)}));return console.log(e),Object(h.jsx)("div",{className:"recipe-listing",children:t})},I=y.a.main(N||(N=Object(m.a)(["\n  background: tomato;\n  padding: 0 1vw 1vw 1vw;\n  display: block;\n"])));function L(e){var t=Object(w.b)(),n=Object(w.c)((function(e){return e.feed})),a=Object(c.useState)(null),r=Object(d.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){if(!n){var e={method:"GET",url:"".concat(b,"feeds/list"),params:{size:"20",timezone:"+1100",vegetarian:!1,from:"0"},headers:u};l.a.request(e).then((function(e){t({type:"set-feed",payload:e.data})})).catch((function(e){i(e)}))}}),[]),s?Object(h.jsx)("p",{children:s}):n?n?Object(h.jsx)(I,{children:Object(h.jsx)(F,{recipes:n.results[2].items})}):void 0:Object(h.jsx)("p",{children:"Loading Feed..."})}var D=n(17);n(75);function P(e){var t=e.tags,n=(e.handleTagClick,Object(w.c)((function(e){return e.queryTags})));if(null===e.tags)return Object(h.jsx)(h.Fragment,{});var c=[],a=[];t.forEach((function(e){c.includes(e.type)||c.push(e.type)}));var r=c.findIndex((function(e){return"business_tags"===e}));c.splice(r,1);var s=c.findIndex((function(e){return"feature_page"===e}));return c.splice(s,1),c.forEach((function(e,n){var c=[];t.forEach((function(t,n){e===t.type&&c.push(t)})),a.push(c)})),Object(h.jsx)("div",{className:"tags",children:a.map((function(t){var c=t.map((function(t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{className:"tag-box",type:"checkbox",name:t.name,id:t.id,value:t.name,checked:n.includes(t.name),onChange:function(){return e.handleTagClick(t.name)}},t.id),Object(h.jsx)("span",{children:t.display_name})]},"l"+t.id)})}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:t[0].type}),Object(h.jsx)("div",{children:c})]})}))})}function R(e){var t=Object(o.f)(),n=Object(o.g)(),a=Object(c.useState)(!0),r=Object(d.a)(a,2),s=r[0],i=r[1],j=Object(w.b)(),p=Object(w.c)((function(e){return e.searchResult})),O=Object(w.c)((function(e){return e.queryText})),x=Object(w.c)((function(e){return e.allTags})),f=Object(w.c)((function(e){return e.queryTags})),g=Object(w.c)((function(e){return e.isLoaded})),v=Object(w.c)((function(e){return e.pageNum})),m=Object(w.c)((function(e){return e.resultsPerPage}));function y(e,t,c,a){if(!g||n.queryText!==O||v!==t||m!==c||f.toString()!==a.toString()){i(!0),j({type:"set-query-text",payload:n.queryText}),j({type:"set-query-tags",payload:a}),j({type:"set-results-per-page",payload:c}),j({type:"set-page-num",payload:t});var r={method:"GET",url:b+"recipes/list",params:{from:t*c,size:c,tags:a.toString(),q:n.queryText},headers:u};l.a.request(r).then((function(e){j({type:"set-search-results",payload:e.data}),j({type:"set-is-loaded",payload:!0}),i(!1)})).catch((function(e){j({type:"set-is-loaded",payload:!1}),console.log(e)}))}}var _=function(){return p?Math.floor(p.count/m):0};function T(e){var t=v+e;t<0||t>_()||y(0,t,m,f)}return Object(c.useEffect)((function(){!function(){if(null===x){var e={method:"GET",url:"".concat(b,"tags/list"),headers:u};l.a.request(e).then((function(e){j({type:"set-all-tags",payload:e.data.results})})).catch((function(e){}))}}(),y(0,v,m,f)}),[t.pathname]),Object(h.jsxs)("main",{children:[Object(h.jsxs)("aside",{children:[s&&Object(h.jsx)("p",{children:"Fetching..."}),Object(h.jsx)("input",{type:"range",min:"10",max:"40",step:"5",defaultValue:m,onChange:function(e){y(0,v,e.target.value,f)}}),Object(h.jsx)("label",{children:m}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{onClick:function(){return T(-1)},children:"previous"}),Object(h.jsx)("button",{onClick:function(){return T(1)},children:"next"}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["page: ",v+1,"/",_()+1]}),Object(h.jsx)(P,{tags:x,handleTagClick:function(e){var t=Object(D.a)(f);if(f.includes(e)){var n=t.findIndex((function(t){return t===e}));t.splice(n,1)}else t.push(e);y(0,0,m,t)}})]}),g?Object(h.jsx)(F,{recipes:p.results}):Object(h.jsx)("p",{children:"Loading..."})]})}var z=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(T,{}),Object(h.jsx)(o.a,{exact:!0,path:"/",component:L}),Object(h.jsx)(o.a,{path:"/search/:queryText",component:R}),Object(h.jsx)(o.a,{exact:!0,path:"/search/",component:R}),Object(h.jsx)(o.a,{path:"/details/:id",component:p})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},X=n(2),B=n(40),M={searchResult:null,queryText:null,allTags:null,queryTags:[],favourites:[],isLoaded:!1,pageNum:0,resultsPerPage:20,feed:null};var U=Object(B.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add-to-faves":return Object(X.a)(Object(X.a)({},e),{},{favourites:[].concat(Object(D.a)(e.favourites),[t.payload])});case"remove-from-faves":var n=e.favourites.indexOf(t.payload),c=Object(D.a)(e.favourites);return c.splice(n,1),Object(X.a)(Object(X.a)({},e),{},{favourites:c});case"set-search-results":return Object(X.a)(Object(X.a)({},e),{},{searchResult:t.payload});case"set-query-text":return Object(X.a)(Object(X.a)({},e),{},{queryText:t.payload});case"set-query-tags":return Object(X.a)(Object(X.a)({},e),{},{queryTags:t.payload});case"set-page-num":return Object(X.a)(Object(X.a)({},e),{},{pageNum:t.payload});case"set-results-per-page":return Object(X.a)(Object(X.a)({},e),{},{resultsPerPage:t.payload});case"set-all-tags":return Object(X.a)(Object(X.a)({},e),{},{allTags:t.payload});case"set-is-loaded":return Object(X.a)(Object(X.a)({},e),{},{isLoaded:t.payload});case"set-feed":return Object(X.a)(Object(X.a)({},e),{},{feed:t.payload});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));s.a.render(Object(h.jsx)(w.a,{store:U,children:Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(z,{})})}),document.getElementById("root")),G()}},[[76,1,2]]]);
//# sourceMappingURL=main.18147062.chunk.js.map