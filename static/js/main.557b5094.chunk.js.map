{"version":3,"sources":["globals.js","components/RelatedRecipeListing.jsx","hooks/api.js","components/RecipeDetails.jsx","components/Header.jsx","components/FeedItem.jsx","components/Featured.jsx","components/FeedListing.jsx","components/Feed.jsx","components/Tags.jsx","components/Recipe.jsx","components/RecipeListing.jsx","components/SearchResult.jsx","components/Faves.jsx","App.jsx","reportWebVitals.js","redux/store.js","index.js"],"names":["HEADERS","process","BASE_URL","RelatedRecipes","styled","div","RelatedRecipeListing","props","recipes","map","recipe","to","id","src","thumbnail_url","alt","name","useFavourites","dispatch","useDispatch","faves","useSelector","state","toggleFavById","console","log","tempFaves","includes","index","indexOf","splice","push","localStorage","setItem","JSON","stringify","type","payload","Container","Header","Video","Content","Related","RecipeDetails","params","useParams","location","useLocation","useState","setRecipe","related","setRelated","isLoaded","setIsLoaded","error","setError","description","num_servings","credits","cook_time_minutes","instructions","nutrition","original_video_url","user_ratings","slice","sort","a","b","position","useEffect","recipeOptions","method","url","headers","axios","request","then","response","data","catch","relatedOptions","recipe_id","results","err","className","onClick","auth","class","count_positive","count_negative","Math","round","score","calories","carbohydrates","sugar","fat","protein","fiber","controls","width","ins","display_text","AppHeader","header","history","useHistory","querryText","setQuerryText","handleSubmit","ev","preventDefault","onSubmit","onChange","target","value","Footer","FeedItemContainer","bgImg","FeedItem","Tags","FeaturedContainer","span","Featured","thumbnail_alt_text","tags","FeedListingContainer","Trending","FeedListing","feed","items","item","Main","main","Feed","options","size","timezone","vegetarian","from","queryTags","categories","sortedTags","forEach","tag","btIndex","findIndex","cat","fpIndex","catIndex","tempCaterogyGroup","group","assabledTags","checked","handleTagClick","display_name","RecipeCard","Tag","Recipe","RecipeListingContainer","RecipeListing","SearchResult","fetching","setFetching","searchResult","queryText","allTags","pageNum","resultsPerPage","performTextSearch","_queryText","_pageNum","_resultsPerPage","_queryTags","toString","q","maxPages","floor","count","handlePageChange","increment","newPage","res","loadTags","pathname","min","max","step","defaultValue","tagName","updatedSelectedTags","tagIndex","x","Faves","faveRecipes","setFaveRecipes","isLoading","setIsLoading","rax","config","timeout","requests","Promise","allSettled","allFaves","loadedRecipes","result","status","filter","raxConfig","retry","noResponseRetries","retryDelay","ceil","random","onRetryAttempt","cfg","currentRetryAttempt","fetchAllFavourites","length","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","store","createStore","action","getItem","parse","init","window","__REDUX_DEVTOOLS_EXTENSION__","trace","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.557b5094.chunk.js","sourcesContent":["const HEADERS = {\n  \"x-rapidapi-host\": \"tasty.p.rapidapi.com\",\n  \"x-rapidapi-key\": process.env.REACT_APP_TASTY_API_KEY,\n};\nconst BASE_URL = \"https://tasty.p.rapidapi.com/\";\n\nexport { HEADERS, BASE_URL };\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst RelatedRecipes = styled.div`\n  width: 12vw;\n  & img {\n    width: 10vw;\n  }\n`;\n\nfunction RelatedRecipeListing(props) {\n  return props.recipes.map((recipe) => (\n    <Link to={`/details/${recipe.id}`} key={recipe.id}>\n      <RelatedRecipes>\n        <img src={recipe.thumbnail_url} alt={\"\"} />\n        <p>{recipe.name}</p>\n      </RelatedRecipes>\n    </Link>\n  ));\n}\n\nexport default RelatedRecipeListing;\n","import { useSelector, useDispatch } from \"react-redux\";\n\nfunction useFavourites() {\n  const dispatch = useDispatch();\n  const faves = useSelector((state) => state.faves);\n\n  function toggleFavById(id) {\n    console.log(`handle fav clicked ${id}`);\n\n    let tempFaves = [...faves];\n    if (tempFaves.includes(id)) {\n      const index = tempFaves.indexOf(id);\n      tempFaves.splice(index, 1);\n    } else {\n      tempFaves.push(id);\n    }\n    localStorage.setItem(\"faves\", JSON.stringify(tempFaves));\n    console.log(tempFaves);\n    dispatch({ type: \"set-faves\", payload: tempFaves });\n  }\n\n  return { toggleFavById };\n}\n\nexport { useFavourites };\n","import { useParams, useLocation } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport styled from \"styled-components\";\nimport RelatedRecipeListing from \"./RelatedRecipeListing\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-areas:\n    \"header header table\"\n    \"content video related\";\n  gap: 1vw;\n  padding: 1vw;\n  max-width: 1400px;\n  grid-template-rows: auto 1fr;\n  grid-template-columns: 2fr 1fr auto;\n  margin: 1vw auto;\n  background: white;\n\n  & div {\n    background: white;\n  }\n`;\n\nconst Header = styled.div`\n  grid-area: header;\n`;\nconst Video = styled.div`\n  grid-area: video;\n  display: flex;\n  flex-direction: column;\n\n  & p {\n    font-size: 2rem;\n    text-align: justify;\n  }\n`;\nconst Content = styled.div`\n  grid-area: content;\n  text-align: left;\n  padding: 1rem;\n  text-align: justify;\n`;\n\nconst Related = styled.div`\n  grid-area: related;\n  border: 1px solid black;\n  overflow-y: auto;\n`;\n\nexport default function RecipeDetails(props) {\n  const params = useParams();\n  const location = useLocation();\n  const [recipe, setRecipe] = useState({});\n  const [related, setRelated] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(null);\n  const faves = useSelector((state) => state.faves);\n  const { toggleFavById } = useFavourites();\n\n  const {\n    name,\n    description,\n    num_servings,\n    credits,\n    cook_time_minutes,\n    instructions,\n    nutrition,\n    id,\n    original_video_url,\n    user_ratings,\n  } = recipe;\n\n  // in case instrucions do not come in order\n  let sortedInstructions = [];\n  if (isLoaded) {\n    sortedInstructions = instructions.slice();\n    sortedInstructions.sort((a, b) => a.position - b.position);\n  }\n\n  useEffect(() => {\n    const recipeOptions = {\n      method: \"GET\",\n      url: `${BASE_URL}recipes/detail`,\n      params: { id: params.id },\n      headers: HEADERS,\n    };\n    axios\n      .request(recipeOptions)\n      .then((response) => {\n        setRecipe(response.data);\n        setIsLoaded(true);\n        console.log(response.data);\n      })\n      .catch(function (error) {\n        setError(error);\n      });\n\n    var relatedOptions = {\n      method: \"GET\",\n      url: `${BASE_URL}recipes/list-similarities`,\n      params: { recipe_id: params.id },\n      headers: HEADERS,\n    };\n    axios\n      .request(relatedOptions)\n      .then((response) => {\n        console.log(\"related: \", response.data);\n        setRelated(response.data.results);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [location]);\n\n  if (!isLoaded) {\n    return <p>Loading...</p>;\n  } else if (error) {\n    return <p>Something went wrong, please try again :(</p>;\n  } else {\n    return (\n      <Container>\n        <Header>\n          <h1>\n            <div\n              className=\"fav material-icons\"\n              onClick={() => toggleFavById(id)}\n            >\n              {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n            </div>\n            {\"  \" + name}\n          </h1>\n          <h2>By: {credits.map((auth) => auth.name + \", \")}</h2>\n          <h3>\n            Servings: {num_servings} | {cook_time_minutes} minutes\n          </h3>\n          <h3>\n            <span class=\"material-icons\">thumb_up </span>\n            {user_ratings.count_positive}\n            {\"  \"}\n            <span class=\"material-icons\">thumb_down </span>\n            {user_ratings.count_negative} |{\" \"}\n            <span class=\"material-icons\">trending_up</span>\n            {Math.round(user_ratings.score * 100)}%\n          </h3>\n        </Header>\n        {nutrition.calories && (\n          <table>\n            <thead>\n              <tr>\n                <th>Calories</th>\n                <th>{nutrition.calories}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>carbohydrates</td>\n                <td>{nutrition.carbohydrates}</td>\n              </tr>\n              <tr>\n                <td>sugar</td>\n                <td>{nutrition.sugar}</td>\n              </tr>\n              <tr>\n                <td>fat</td>\n                <td>{nutrition.fat}</td>\n              </tr>\n              <tr>\n                <td>protein</td>\n                <td>{nutrition.protein}</td>\n              </tr>\n              <tr>\n                <td>fiber</td>\n                <td>{nutrition.fiber}</td>\n              </tr>\n            </tbody>\n          </table>\n        )}\n        <Video>\n          <video controls width=\"480\" src={original_video_url}></video>\n          {description && <p>{description}</p>}\n        </Video>\n        <Content>\n          <div className=\"instructions\">\n            <h1>Instructions</h1>\n            {instructions.map((ins) => (\n              <>\n                <p key={ins.id}>\n                  <strong>Step {ins.position}</strong>\n                  <br />\n                  {ins.display_text}\n                </p>\n                <br />\n              </>\n            ))}\n          </div>\n        </Content>\n        <Related>\n          {related && (\n            <>\n              <h3>Related</h3>\n              <RelatedRecipeListing recipes={[...related].slice(0, 7)} />\n            </>\n          )}\n        </Related>\n      </Container>\n    );\n  }\n}\n","import { useHistory, Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\n\nconst AppHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  padding: 0 2vw;\n  background-color: #282c34;\n  color: hsl(0, 0%, 100%);\n\n  & a {\n    color: hsl(0, 0%, 100%);\n    font-size: calc(10px + 1.5vmin);\n    text-decoration: none;\n  }\n\n  & input {\n    font-size: calc(10px + 1.5vmin);\n  }\n\n  & a:hover {\n    color: lightcoral;\n  }\n\n  & div {\n    display: flex;\n    align-items: center;\n  }\n\n  & li {\n    display: inline;\n    margin: 1vw;\n  }\n\n  & form {\n    display: flex;\n    gap: 1vw;\n  }\n`;\n\nexport default function Header(props) {\n  const history = useHistory();\n  const [querryText, setQuerryText] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleQuerryTextChange = (ev) => setQuerryText(ev.target.value);\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    dispatch({ type: \"set-page-num\", payload: 0 });\n    history.push(`/search/${querryText}`);\n  };\n\n  return (\n    <AppHeader>\n      <div>\n        <Link to={\"/\"}>\n          <h1>Tasty recipes</h1>\n        </Link>\n        <ul>\n          <li>\n            <Link to={\"/\"}>Home</Link>\n          </li>\n          <li>\n            <Link to={\"/search/\"}>Search</Link>\n          </li>\n          <li>\n            <Link to={\"/faves/\"}>Faves</Link>\n          </li>\n        </ul>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleQuerryTextChange} />\n        <input type=\"button\" value=\"search\" onClick={handleSubmit} />\n      </form>\n    </AppHeader>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Footer = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0), hsl(0, 0%, 0%, 0.9));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n`;\n\nconst FeedItemContainer = styled.div`\n  width: 180px;\n  height: 180px;\n  background-image: url(${(props) => props.bgImg});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Footer} {\n    display: block;\n  }\n\n  & .fav {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    color: red;\n    cursor: pointer;\n  }\n`;\n\nexport default function FeedItem(props) {\n  const { thumbnail_url, name, id } = props.recipe;\n  const faves = useSelector((state) => state.faves);\n\n  const { toggleFavById } = useFavourites();\n  return (\n    <FeedItemContainer bgImg={thumbnail_url}>\n      <div className=\"fav material-icons\" onClick={() => toggleFavById(id)}>\n        {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n      </div>\n      <Link to={`/details/${id}`}>\n        <Footer>\n          <h4>{name}</h4>\n        </Footer>\n      </Link>\n    </FeedItemContainer>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Tags = styled.div`\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n`;\n\nconst FeaturedContainer = styled.div`\n  width: 50vw;\n  padding: 1vw;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Tags} {\n    display: flex;\n  }\n\n  & .fav {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    color: red;\n    cursor: pointer;\n  }\n\n  & img {\n    width: 100%;\n  }\n`;\n\nconst Header = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n`;\n\nconst Tag = styled.span`\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n`;\n\nexport default function Featured(props) {\n  const { thumbnail_url, thumbnail_alt_text, credits, name, tags, id } =\n    props.recipe;\n  const faves = useSelector((state) => state.faves);\n\n  const { toggleFavById } = useFavourites();\n  return (\n    <FeaturedContainer bgImg={thumbnail_url}>\n      <div className=\"fav material-icons red\" onClick={() => toggleFavById(id)}>\n        {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n      </div>\n      <Link to={`/details/${id}`}>\n        <img src={thumbnail_url} alt={thumbnail_alt_text} />\n        <h2>{name}</h2>\n        <h4>by: {credits[0].name}</h4>\n      </Link>\n    </FeaturedContainer>\n  );\n}\n","import FeedItem from \"./FeedItem\";\nimport Featured from \"./Featured\";\nimport styled from \"styled-components\";\n\nconst FeedListingContainer = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  background-color: white;\n  gap: 3vw;\n  padding: 3vw;\n\n  & h1 {\n    font-size: calc(10px + 4vmin);\n  }\n`;\n\nconst Trending = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 3vw;\n`;\n\nexport default function FeedListing(props) {\n  const feed = props.feed.results[2].items.map((recipe) => (\n    <FeedItem key={recipe.id} id={recipe.id} recipe={recipe} />\n  ));\n\n  console.log(props);\n  return (\n    <FeedListingContainer>\n      <Featured recipe={props.feed.results[0].item} />\n      <div>\n        <h1>{props.feed.results[2].name}</h1>\n        <Trending>{feed}</Trending>\n      </div>\n    </FeedListingContainer>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport FeedListing from \"./FeedListing\";\nimport styled from \"styled-components\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Main = styled.main`\n  padding: 1vw;\n  display: block;\n`;\n\nexport default function Feed(props) {\n  const dispatch = useDispatch();\n  const feed = useSelector((state) => state.feed);\n\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!feed) {\n      var options = {\n        method: \"GET\",\n        url: `${BASE_URL}feeds/list`,\n        params: {\n          size: \"20\",\n          timezone: \"+1100\",\n          vegetarian: false,\n          from: \"0\",\n        },\n        headers: HEADERS,\n      };\n\n      axios\n        .request(options)\n        .then((response) => {\n          dispatch({\n            type: \"set-feed\",\n            payload: response.data,\n          });\n        })\n        .catch((err) => {\n          setError(err);\n        });\n    }\n  }, []);\n\n  if (error) {\n    return <p>{error}</p>;\n  }\n\n  if (!feed) {\n    return <p>Loading Feed...</p>;\n  }\n\n  if (feed) {\n    return (\n      <Main>\n        <FeedListing feed={feed} />\n      </Main>\n    );\n  }\n}\n","import \"./Tags.css\";\nimport { useSelector } from \"react-redux\";\n\nexport default function Tags(props) {\n  const { tags } = props;\n  const queryTags = useSelector((state) => state.queryTags);\n\n  if (props.tags === null) return <></>;\n\n  const categories = [];\n  const sortedTags = [];\n  tags.forEach((tag) => {\n    if (!categories.includes(tag.type)) categories.push(tag.type);\n  });\n\n  // remove internal busines tags\n  const btIndex = categories.findIndex((cat) => cat === \"business_tags\");\n  categories.splice(btIndex, 1);\n  const fpIndex = categories.findIndex((cat) => cat === \"feature_page\");\n  categories.splice(fpIndex, 1);\n\n  categories.forEach((cat, catIndex) => {\n    const tempCaterogyGroup = [];\n    tags.forEach((tag) => {\n      if (cat === tag.type) tempCaterogyGroup.push(tag);\n    });\n    sortedTags.push(tempCaterogyGroup);\n  });\n\n  return (\n    <div className=\"tags\">\n      {sortedTags.map((group) => {\n        const assabledTags = group.map((tag) => (\n          <>\n            <label key={\"l\" + tag.id}>\n              <input\n                className=\"tag-box\"\n                type=\"checkbox\"\n                name={tag.name}\n                id={tag.id}\n                key={tag.id}\n                value={tag.name}\n                checked={queryTags.includes(tag.name)}\n                onChange={() => props.handleTagClick(tag.name)}\n              />\n              <span>{tag.display_name}</span>\n            </label>\n          </>\n        ));\n        return (\n          <>\n            <h2>{group[0].type}</h2>\n            <div>{assabledTags}</div>\n          </>\n        );\n      })}\n    </div>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Tags = styled.div`\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n`;\n\nconst RecipeCard = styled.div`\n  width: 400px;\n  height: 400px;\n  background-image: url(${(props) => props.bgImg});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Tags} {\n    display: flex;\n  }\n\n  & .fav {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    color: red;\n    cursor: pointer;\n  }\n`;\n\nconst Header = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n`;\n\nconst Tag = styled.span`\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n`;\n\nexport default function Recipe(props) {\n  const { thumbnail_url, credits, name, tags, id } = props.recipe;\n  const faves = useSelector((state) => state.faves);\n\n  const { toggleFavById } = useFavourites();\n  return (\n    <RecipeCard bgImg={thumbnail_url}>\n      <div className=\"fav material-icons red\" onClick={() => toggleFavById(id)}>\n        {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n      </div>\n      <Link to={`/details/${id}`}>\n        <Header>\n          <h2>{name}</h2>\n          <h4>by: {credits[0].name}</h4>\n        </Header>\n        <Tags>\n          {tags.map((tag) => (\n            <Tag key={tag.id}>{tag.display_name}</Tag>\n          ))}\n        </Tags>\n      </Link>\n    </RecipeCard>\n  );\n}\n","import Recipe from \"./Recipe\";\nimport styled from \"styled-components\";\n\nconst RecipeListingContainer = styled.div`\n  display: flex;\n  gap: 4vw 1vw;\n  padding: 2vw 1vw;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  justify-content: space-evenly;\n  background-color: white;\n`;\n\nfunction RecipeListing(props) {\n  const recipes = props.recipes.map((recipe) => (\n    <Recipe key={recipe.id} id={recipe.id} recipe={recipe} />\n  ));\n\n  console.log(props);\n  return <RecipeListingContainer>{recipes}</RecipeListingContainer>;\n}\n\nexport default RecipeListing;\n","import { useParams, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { HEADERS, BASE_URL } from \"../globals\";\n\nimport Tags from \"./Tags\";\nimport RecipeListing from \"./RecipeListing\";\n\nexport default function SearchResult(props) {\n  const location = useLocation();\n  const params = useParams();\n\n  const [fetching, setFetching] = useState(false);\n\n  //redux\n  const dispatch = useDispatch();\n\n  const searchResult = useSelector((state) => state.searchResult);\n  const queryText = useSelector((state) => state.queryText);\n  const allTags = useSelector((state) => state.allTags);\n  const queryTags = useSelector((state) => state.queryTags);\n  const isLoaded = useSelector((state) => state.isLoaded);\n  const pageNum = useSelector((state) => state.pageNum);\n  const resultsPerPage = useSelector((state) => state.resultsPerPage);\n\n  // search\n\n  function performTextSearch(\n    _queryText,\n    _pageNum,\n    _resultsPerPage,\n    _queryTags\n  ) {\n    if (\n      !isLoaded ||\n      params.queryText !== queryText ||\n      pageNum !== _pageNum ||\n      resultsPerPage !== _resultsPerPage ||\n      queryTags.toString() !== _queryTags.toString()\n    ) {\n      setFetching(true);\n      dispatch({ type: \"set-query-text\", payload: params.queryText });\n      dispatch({ type: \"set-query-tags\", payload: _queryTags });\n      dispatch({ type: \"set-results-per-page\", payload: _resultsPerPage });\n      dispatch({ type: \"set-page-num\", payload: _pageNum });\n      var options = {\n        method: \"GET\",\n        url: BASE_URL + \"recipes/list\",\n        params: {\n          from: _pageNum * _resultsPerPage,\n          size: _resultsPerPage,\n          tags: _queryTags.toString(),\n          q: params.queryText,\n        },\n        headers: HEADERS,\n      };\n      axios\n        .request(options)\n        .then((response) => {\n          dispatch({ type: \"set-search-results\", payload: response.data });\n          dispatch({ type: \"set-is-loaded\", payload: true });\n          setFetching(false);\n        })\n        .catch((err) => {\n          dispatch({ type: \"set-is-loaded\", payload: false });\n          console.log(err);\n        });\n    }\n  }\n\n  // Tags handling\n\n  // retrieve tags from store or load from API\n  function loadTags() {\n    if (allTags === null) {\n      var options = {\n        method: \"GET\",\n        url: `${BASE_URL}tags/list`,\n        headers: HEADERS,\n      };\n      axios\n        .request(options)\n        .then((res) => {\n          dispatch({ type: \"set-all-tags\", payload: res.data.results });\n        })\n        .catch((err) => {});\n    }\n  }\n\n  function handleTagClick(tagName) {\n    let updatedSelectedTags = [...queryTags];\n    if (queryTags.includes(tagName)) {\n      const tagIndex = updatedSelectedTags.findIndex((x) => x === tagName);\n      updatedSelectedTags.splice(tagIndex, 1);\n    } else {\n      updatedSelectedTags.push(tagName);\n    }\n    performTextSearch(queryText, 0, resultsPerPage, updatedSelectedTags);\n  }\n  // END of tags handling\n\n  // Pagination handling\n  const maxPages = () => {\n    if (searchResult) {\n      return Math.floor(searchResult.count / resultsPerPage);\n    } else {\n      return 0;\n    }\n  };\n\n  function handleResultsPerPageChange(ev) {\n    performTextSearch(queryText, pageNum, ev.target.value, queryTags);\n  }\n\n  function handlePageChange(increment) {\n    const newPage = pageNum + increment;\n    if (!(newPage < 0 || newPage > maxPages())) {\n      performTextSearch(queryText, newPage, resultsPerPage, queryTags);\n    }\n  }\n  // END of paggination handling\n\n  // Component did update?\n  useEffect(() => {\n    loadTags();\n    performTextSearch(queryText, pageNum, resultsPerPage, queryTags);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  return (\n    <main>\n      <aside>\n        {fetching && <p>Fetching...</p>}\n        <label>Results per page</label>\n        <input\n          type=\"range\"\n          min=\"10\"\n          max=\"40\"\n          step=\"5\"\n          defaultValue={resultsPerPage}\n          onChange={handleResultsPerPageChange}\n        />\n        <label>{resultsPerPage}</label>\n        <hr />\n        <label>\n          page: {pageNum + 1}/{maxPages() + 1}{\" \"}\n        </label>\n        <button onClick={() => handlePageChange(-1)}>previous</button>{\" \"}\n        <button onClick={() => handlePageChange(1)}>next</button>\n        <br />\n        <Tags tags={allTags} handleTagClick={handleTagClick} />\n      </aside>\n\n      {isLoaded ? (\n        <RecipeListing recipes={searchResult.results} />\n      ) : (\n        <p>Loading...</p>\n      )}\n    </main>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport RecipeListing from \"./RecipeListing\";\nimport styled from \"styled-components\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport { useSelector } from \"react-redux\";\nimport * as rax from \"retry-axios\";\n\nconst Main = styled.main`\n  display: block;\n  height: 90vh;\n`;\n\nexport default function Faves(props) {\n  const faves = useSelector((state) => state.faves);\n  const [error, setError] = useState(null);\n  const [faveRecipes, setFaveRecipes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    setIsLoading(true);\n    rax.attach();\n    const config = {\n      headers: HEADERS,\n      method: \"GET\",\n      url: `${BASE_URL}recipes/detail`,\n      timeout: 100000,\n    };\n    const requests = [];\n    faves.forEach((id) => {\n      const recipeOptions = {\n        ...config,\n        params: { id },\n        raxConfig: {\n          retry: 4, // number of retry when facing 4xx or 5xx\n          noResponseRetries: 5, // number of retry when facing connection error\n          retryDelay: Math.ceil(Math.random() * 10000),\n          onRetryAttempt: (err) => {\n            const cfg = rax.getConfig(err);\n            console.log(\n              `Retry attempt #${cfg.currentRetryAttempt} for ID=${id}` // track current trial\n            );\n          },\n        },\n      };\n      requests.push(axios.request(recipeOptions));\n    });\n\n    async function fetchAllFavourites() {\n      const allFaves = await Promise.allSettled(requests);\n      const loadedRecipes = allFaves.map((result) => {\n        if (result.status === \"fulfilled\") {\n          return result.value.data;\n        } else {\n          setError(true);\n          return false;\n        }\n      });\n      console.log(loadedRecipes);\n      setFaveRecipes(loadedRecipes.filter((x) => x));\n      setIsLoading(false);\n    }\n    fetchAllFavourites();\n  }, [faves]);\n\n  if (isLoading) {\n    return <p>Loading ...</p>;\n  }\n\n  if (!faveRecipes.length) {\n    return <p>You dont have any favourite recipes yet</p>;\n  } else {\n    return (\n      <Main>\n        <h1>Favourites</h1>\n        {error && <p>Some recipes could not load :( </p>}\n        <RecipeListing recipes={faveRecipes} />\n      </Main>\n    );\n  }\n}\n","import \"./App.css\";\nimport { Route, HashRouter as Router } from \"react-router-dom\";\nimport RecipeDetails from \"./components/RecipeDetails\";\nimport Header from \"./components/Header\";\nimport Feed from \"./components/Feed\";\nimport SearchResult from \"./components/SearchResult\";\nimport Faves from \"./components/Faves\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Route exact path=\"/\" component={Feed} />\n        <Route path=\"/search/:queryText\" component={SearchResult} />\n        <Route exact path=\"/search/\" component={SearchResult} />\n        <Route path=\"/details/:id\" component={RecipeDetails} />\n        <Route path=\"/faves/\" component={Faves} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n       ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore } from \"redux\";\n\nconst initialState = {\n  searchResult: null,\n  queryText: null,\n  allTags: null,\n  queryTags: [],\n  faves: [],\n  isLoaded: false,\n  pageNum: 0,\n  resultsPerPage: 20,\n  feed: null,\n};\n\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"set-faves\":\n      return {\n        ...state,\n        faves: action.payload,\n      };\n    case \"set-search-results\":\n      return {\n        ...state,\n        searchResult: action.payload,\n      };\n    case \"set-query-text\":\n      return {\n        ...state,\n        queryText: action.payload,\n      };\n    case \"set-query-tags\":\n      return {\n        ...state,\n        queryTags: action.payload,\n      };\n    case \"set-page-num\":\n      return {\n        ...state,\n        pageNum: action.payload,\n      };\n    case \"set-results-per-page\":\n      return {\n        ...state,\n        resultsPerPage: action.payload,\n      };\n    case \"set-all-tags\":\n      return {\n        ...state,\n        allTags: action.payload,\n      };\n    case \"set-is-loaded\":\n      return {\n        ...state,\n        isLoaded: action.payload,\n      };\n    case \"set-feed\":\n      return {\n        ...state,\n        feed: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nfunction init() {\n  const data = localStorage.getItem(\"faves\");\n  return data ? JSON.parse(data) : [];\n}\n\nexport const store = createStore(\n  reducer,\n  { ...initialState, faves: init() }, // Initialise favourites from local storage\n  // suscribe\n  window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true })\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}