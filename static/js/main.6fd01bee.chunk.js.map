{"version":3,"sources":["components/Recipe.jsx","components/RecipeListing.jsx","components/Tags.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["Recipe","props","recipe","thumbnail_url","credits","thumbnail_alt_text","name","description","tags","instructions","useState","isHover","setIsHover","className","style","backgroundImage","onMouseEnter","ev","onMouseLeave","map","tag","display_name","id","RecipeListing","recipes","console","log","Tags","handleTagClick","categories","sortedTags","forEach","includes","type","push","btIndex","findIndex","cat","splice","fpIndex","catIndex","tempCaterogyGroup","tagIndex","group","assabledTags","value","onChange","HEADERS","process","BASE_URL","App","pageNum","setPageNum","resultsPerPage","setResultsPerPage","querryText","setQuerryText","setRecipes","isLoaded","setIsLoaded","setError","setTags","useEffect","options","method","url","headers","axios","request","then","res","data","results","catch","err","selectedTags","setSelectedTags","performTextSearch","params","from","size","toString","q","response","maxPages","Math","ceil","count","handlePageChange","increment","newPage","onSubmit","preventDefault","target","min","max","step","defaultValue","onClick","tagName","updatedSelectedTags","x","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6fd01bee.chunk.js","sourcesContent":["import \"./Recipe.css\";\nimport { useState } from \"react\";\n\nexport default function Recipe(props) {\n  const {\n    thumbnail_url,\n    thumbnail_alt_text,\n    credits,\n    description,\n    name,\n    tags,\n    instructions,\n  } = props.recipe;\n\n  const [isHover, setIsHover] = useState(false);\n\n  const handleMouseEnter = (ev) => setIsHover(true);\n  const handleMouseLeve = (ev) => setIsHover(false);\n\n  return (\n    <div\n      className=\"recipe\"\n      style={{ backgroundImage: `url(${thumbnail_url})` }}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeve}\n    >\n      <div>\n        <h2>{name}</h2>\n        <h4>by: {credits[0].name}</h4>\n      </div>\n\n      {isHover && (\n        <div className=\"tags\">\n          {tags.map((tag) => (\n            <span className=\"tag\" key={tag.id}>\n              {tag.display_name}\n            </span>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","import Recipe from \"./Recipe\";\nimport \"./RecipeListing.css\";\n\nfunction RecipeListing(props) {\n  const recipes = props.recipes.map((recipe) => (\n    <Recipe key={recipe.id} id={recipe.id} recipe={recipe} />\n  ));\n\n  console.log(props);\n  return <div className=\"recipe-listing\">{recipes}</div>;\n}\n\nexport default RecipeListing;\n","import \"./Tags.css\";\n\nexport default function Tags(props) {\n  const { tags, handleTagClick } = props;\n\n  if (props.tags === null) return <></>;\n\n  const categories = [];\n  const sortedTags = [];\n  tags.forEach((tag) => {\n    if (!categories.includes(tag.type)) categories.push(tag.type);\n  });\n\n  // remove internal busines tags\n  const btIndex = categories.findIndex((cat) => cat === \"business_tags\");\n  categories.splice(btIndex, 1);\n  const fpIndex = categories.findIndex((cat) => cat === \"feature_page\");\n  categories.splice(fpIndex, 1);\n\n  categories.forEach((cat, catIndex) => {\n    const tempCaterogyGroup = [];\n    tags.forEach((tag, tagIndex) => {\n      if (cat === tag.type) tempCaterogyGroup.push(tag);\n    });\n    sortedTags.push(tempCaterogyGroup);\n  });\n\n  return (\n    <div className=\"tags\">\n      {sortedTags.map((group) => {\n        const assabledTags = group.map((tag) => (\n          <>\n            <label key={\"l\" + tag.id}>\n              <input\n                className=\"tag-box\"\n                type=\"checkbox\"\n                name={tag.name}\n                id={tag.id}\n                key={tag.id}\n                value={tag.name}\n                onChange={() => props.handleTagClick(tag.name)}\n              />\n              <span>{tag.display_name}</span>\n            </label>\n          </>\n        ));\n        return (\n          <>\n            <h2>{group[0].type}</h2>\n            <div>{assabledTags}</div>\n          </>\n        );\n      })}\n    </div>\n  );\n}\n","import \"./App.css\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport RecipeListing from \"./components/RecipeListing\";\nimport Tags from \"./components/Tags\";\n\nconst HEADERS = {\n  \"x-rapidapi-host\": \"tasty.p.rapidapi.com\",\n  \"x-rapidapi-key\": process.env.REACT_APP_TASTY_API_KEY,\n};\nconst BASE_URL = \"https://tasty.p.rapidapi.com/\";\n\nfunction App() {\n  const [pageNum, setPageNum] = useState(0);\n  const [resultsPerPage, setResultsPerPage] = useState(20);\n  const [querryText, setQuerryText] = useState(\"\");\n  const [recipes, setRecipes] = useState({});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState({});\n\n  // Tags handling\n  const [tags, setTags] = useState(null);\n  useEffect(() => {\n    var options = {\n      method: \"GET\",\n      url: `${BASE_URL}tags/list`,\n      headers: HEADERS,\n    };\n    axios\n      .request(options)\n      .then((res) => {\n        setTags(res.data.results);\n      })\n      .catch((err) => {});\n  }, []);\n\n  const [selectedTags, setSelectedTags] = useState([]);\n  const handleTagClick = (tagName) => {\n    if (selectedTags.includes(tagName)) {\n      const updatedSelectedTags = [...selectedTags];\n      const tagIndex = updatedSelectedTags.findIndex((x) => x === tagName);\n      updatedSelectedTags.splice(tagIndex, 1);\n      setSelectedTags(updatedSelectedTags);\n    } else {\n      setSelectedTags([...selectedTags, tagName]);\n    }\n  };\n\n  const performTextSearch = () => {\n    var options = {\n      method: \"GET\",\n      url: BASE_URL + \"recipes/list\",\n      params: {\n        from: pageNum * resultsPerPage,\n        size: resultsPerPage,\n        tags: selectedTags.toString(),\n        q: querryText,\n      },\n      headers: HEADERS,\n    };\n\n    console.log(selectedTags.toString());\n    axios\n      .request(options)\n      .then((response) => {\n        setRecipes(response.data);\n        setIsLoaded(true);\n      })\n      .catch((err) => {\n        setIsLoaded(false);\n        setError(err);\n      });\n  };\n\n  useEffect(() => {\n    performTextSearch();\n  }, [pageNum, resultsPerPage, selectedTags]);\n\n  const handleQuerryTextChange = (ev) => setQuerryText(ev.target.value);\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    setIsLoaded(false);\n    performTextSearch();\n  };\n\n  const handleResultsPerPageChange = (ev) => {\n    setResultsPerPage(ev.target.value);\n  };\n\n  const maxPages = Math.ceil(recipes.count / resultsPerPage);\n\n  const handlePageChange = (increment) => {\n    const newPage = pageNum + increment;\n    if (!(newPage < 0 || newPage > maxPages)) {\n      setIsLoaded(false);\n      setPageNum(newPage);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Recipes</h1>\n        <form onSubmit={handleSubmit}>\n          <label>\n            Enter querry:{\" \"}\n            <input type=\"text\" onChange={handleQuerryTextChange} />\n          </label>\n          <button>search</button>\n        </form>\n      </header>\n\n      <main>\n        <aside>\n          <input\n            type=\"range\"\n            min=\"10\"\n            max=\"40\"\n            step=\"5\"\n            defaultValue=\"20\"\n            onChange={handleResultsPerPageChange}\n          />\n          <label>{resultsPerPage}</label>\n          <br />\n          <button onClick={() => handlePageChange(-1)}>previous</button>\n          <button onClick={() => handlePageChange(1)}>next</button>\n          <br />\n          <label>\n            page: {pageNum}/{maxPages}\n          </label>\n          <Tags tags={tags} handleTagClick={handleTagClick} />\n        </aside>\n\n        {isLoaded ? (\n          <RecipeListing recipes={recipes.results} />\n        ) : (\n          <p>Loading...</p>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}