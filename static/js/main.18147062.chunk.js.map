{"version":3,"sources":["globals.js","components/RecipeDetails.jsx","components/Header.jsx","components/Recipe.jsx","components/RecipeListing.jsx","components/Feed.jsx","components/Tags.jsx","components/SearchResult.jsx","App.jsx","reportWebVitals.js","redux/store.js","index.js"],"names":["HEADERS","process","BASE_URL","RecipeDetails","props","params","useParams","useState","recipe","setRecipe","isLoaded","setIsLoaded","error","setError","name","description","num_servings","credits","cook_time_minutes","instructions","nutrition","original_video_url","thumbnail_url","thumbnail_alt_text","id","user_ratings","slice","sort","a","b","position","options","method","url","headers","useEffect","axios","request","then","response","data","console","log","catch","map","auth","count_positive","count_negative","Math","round","score","controls","width","src","className","ins","display_text","calories","carbohydrates","sugar","fat","protein","fiber","AppHeader","styled","header","Header","history","useHistory","querryText","setQuerryText","dispatch","useDispatch","to","onSubmit","ev","preventDefault","type","payload","push","onChange","target","value","Tags","div","RecipeCard","bgImg","Tag","span","Recipe","tags","tag","display_name","RecipeListing","recipes","Main","main","Feed","feed","useSelector","state","size","timezone","vegetarian","from","err","results","items","queryTags","handleTagClick","categories","sortedTags","forEach","includes","btIndex","findIndex","cat","splice","fpIndex","catIndex","tempCaterogyGroup","tagIndex","group","assabledTags","checked","SearchResult","location","useLocation","fetching","setFetching","searchResult","queryText","allTags","pageNum","resultsPerPage","performTextSearch","_queryText","_pageNum","_resultsPerPage","_queryTags","toString","q","maxPages","floor","count","handlePageChange","increment","newPage","res","loadTags","pathname","min","max","step","defaultValue","onClick","tagName","updatedSelectedTags","x","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","favourites","store","createStore","action","index","indexOf","window","__REDUX_DEVTOOLS_EXTENSION__","trace","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.18147062.chunk.js","sourcesContent":["const HEADERS = {\n  \"x-rapidapi-host\": \"tasty.p.rapidapi.com\",\n  \"x-rapidapi-key\": process.env.REACT_APP_TASTY_API_KEY,\n};\nconst BASE_URL = \"https://tasty.p.rapidapi.com/\";\n\nexport { HEADERS, BASE_URL };\n","import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { HEADERS, BASE_URL } from \"../globals\";\n\n\nexport default function RecipeDetails(props) {\n  debugger;\n  const params = useParams();\n  const [recipe, setRecipe] = useState({});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(null);\n\n  const {\n    name,\n    description,\n    num_servings,\n    credits,\n    cook_time_minutes,\n    instructions,\n    nutrition,\n    thumbnail_url,\n    thumbnail_alt_text,\n    id,\n    original_video_url,\n    user_ratings,\n  } = recipe;\n\n  // in case instrucions do not come in order\n  let sortedInstructions = [];\n  if (isLoaded) {\n    sortedInstructions = instructions.slice();\n    sortedInstructions.sort((a, b) => a.position - b.position);\n  }\n\n  // console.log(\"sorted instrucions\", instructions);\n\n  const options = {\n    method: \"GET\",\n    url: `${BASE_URL}recipes/detail`,\n    params: { id: params.id },\n    headers: HEADERS,\n  };\n\n  useEffect(() => {\n    axios\n      .request(options)\n      .then((response) => {\n        setRecipe(response.data);\n        setIsLoaded(true);\n        console.log(response.data);\n      })\n      .catch(function (error) {\n        setError(error);\n      });\n  }, []);\n\n  if (!isLoaded) {\n    return <p>Loading...</p>;\n  } else if (error) {\n    return <p>{error}</p>;\n  } else {\n    return (\n      <div>\n        <h1>{name}</h1>\n        <h2>By: {credits.map((auth) => auth.name + \", \")}</h2>\n        <h3>\n          Servings: {num_servings} | {cook_time_minutes} minutes\n        </h3>\n        <h3>\n          Up votes: {user_ratings.count_positive} | Down votes:{\" \"}\n          {user_ratings.count_negative} | Rating:{\" \"}\n          {Math.round(user_ratings.score * 100)}%\n        </h3>\n        <video controls width=\"480\" src={original_video_url}></video>\n        <p>Description: {description}</p>\n        <div className=\"instructions\">\n          <h3>Instructions</h3>\n          {instructions.map((ins) => (\n            <>\n              <p key={ins.id}>\n                <strong>Step {ins.position}</strong>\n                <br />\n                {ins.display_text}\n              </p>\n              <br />\n            </>\n          ))}\n        </div>\n        <table>\n          <thead>\n            <tr>\n              <th>Calories</th>\n              <th>{nutrition.calories}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>carbohydrates</td>\n              <td>{nutrition.carbohydrates}</td>\n            </tr>\n            <tr>\n              <td>sugar</td>\n              <td>{nutrition.sugar}</td>\n            </tr>\n            <tr>\n              <td>fat</td>\n              <td>{nutrition.fat}</td>\n            </tr>\n            <tr>\n              <td>protein</td>\n              <td>{nutrition.protein}</td>\n            </tr>\n            <tr>\n              <td>fiber</td>\n              <td>{nutrition.fiber}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","import { useHistory, Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\n\nconst AppHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  padding: 0 2vw;\n  border: 1vw tomato solid;\n\n  & div {\n    display: flex;\n    align-items: center;\n  }\n\n  & li {\n    display: inline;\n    margin: 1vw;\n  }\n\n  & form {\n    display: flex;\n    gap: 1vw;\n  }\n`;\n\nexport default function Header(props) {\n  const history = useHistory();\n  const [querryText, setQuerryText] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleQuerryTextChange = (ev) => setQuerryText(ev.target.value);\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    dispatch({ type: \"set-page-num\", payload: 0 });\n    history.push(`/search/${querryText}`);\n  };\n\n  return (\n    <AppHeader>\n      <div>\n        <h1>Recipes</h1>\n        <ul>\n          <li>\n            <Link to={\"/\"}>Home</Link>\n          </li>\n          <li>\n            <Link to={\"/search/\"}>Search</Link>\n          </li>\n        </ul>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleQuerryTextChange} />\n        <button>search</button>\n      </form>\n    </AppHeader>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst Tags = styled.div`\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n`;\n\nconst RecipeCard = styled.div`\n  width: 400px;\n  height: 400px;\n  background-image: url(${(props) => props.bgImg});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Tags} {\n    display: flex;\n  }\n`;\n\nconst Header = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n`;\n\nconst Tag = styled.span`\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n`;\n\nexport default function Recipe(props) {\n  const { thumbnail_url, credits, name, tags, id } = props.recipe;\n\n  return (\n    <Link to={`/details/${id}`}>\n      <RecipeCard bgImg={thumbnail_url}>\n        <Header>\n          <h2>{name}</h2>\n          <h4>by: {credits[0].name}</h4>\n        </Header>\n        <Tags>\n          {tags.map((tag) => (\n            <Tag key={tag.id}>{tag.display_name}</Tag>\n          ))}\n        </Tags>\n      </RecipeCard>\n    </Link>\n  );\n}\n","import Recipe from \"./Recipe\";\nimport \"./RecipeListing.css\";\n\nfunction RecipeListing(props) {\n  const recipes = props.recipes.map((recipe) => (\n    <Recipe key={recipe.id} id={recipe.id} recipe={recipe} />\n  ));\n\n  console.log(props);\n  return <div className=\"recipe-listing\">{recipes}</div>;\n}\n\nexport default RecipeListing;\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport RecipeListing from \"./RecipeListing\";\nimport styled from \"styled-components\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Main = styled.main`\n  background: tomato;\n  padding: 0 1vw 1vw 1vw;\n  display: block;\n`;\n\nexport default function Feed(props) {\n  const dispatch = useDispatch();\n  const feed = useSelector((state) => state.feed);\n\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!feed) {\n      var options = {\n        method: \"GET\",\n        url: `${BASE_URL}feeds/list`,\n        params: {\n          size: \"20\",\n          timezone: \"+1100\",\n          vegetarian: false,\n          from: \"0\",\n        },\n        headers: HEADERS,\n      };\n\n      axios\n        .request(options)\n        .then((response) => {\n          dispatch({\n            type: \"set-feed\",\n            payload: response.data,\n          });\n        })\n        .catch((err) => {\n          setError(err);\n        });\n    }\n  }, []);\n\n  if (error) {\n    return <p>{error}</p>;\n  }\n\n  if (!feed) {\n    return <p>Loading Feed...</p>;\n  }\n\n  if (feed) {\n    return (\n      <Main>\n        <RecipeListing recipes={feed.results[2].items} />\n      </Main>\n    );\n  }\n}\n","import \"./Tags.css\";\nimport { useSelector } from \"react-redux\";\n\nexport default function Tags(props) {\n  const { tags, handleTagClick } = props;\n  const queryTags = useSelector((state) => state.queryTags);\n\n  if (props.tags === null) return <></>;\n\n  const categories = [];\n  const sortedTags = [];\n  tags.forEach((tag) => {\n    if (!categories.includes(tag.type)) categories.push(tag.type);\n  });\n\n  // remove internal busines tags\n  const btIndex = categories.findIndex((cat) => cat === \"business_tags\");\n  categories.splice(btIndex, 1);\n  const fpIndex = categories.findIndex((cat) => cat === \"feature_page\");\n  categories.splice(fpIndex, 1);\n\n  categories.forEach((cat, catIndex) => {\n    const tempCaterogyGroup = [];\n    tags.forEach((tag, tagIndex) => {\n      if (cat === tag.type) tempCaterogyGroup.push(tag);\n    });\n    sortedTags.push(tempCaterogyGroup);\n  });\n\n  return (\n    <div className=\"tags\">\n      {sortedTags.map((group) => {\n        const assabledTags = group.map((tag) => (\n          <>\n            <label key={\"l\" + tag.id}>\n              <input\n                className=\"tag-box\"\n                type=\"checkbox\"\n                name={tag.name}\n                id={tag.id}\n                key={tag.id}\n                value={tag.name}\n                checked={queryTags.includes(tag.name)}\n                onChange={() => props.handleTagClick(tag.name)}\n              />\n              <span>{tag.display_name}</span>\n            </label>\n          </>\n        ));\n        return (\n          <>\n            <h2>{group[0].type}</h2>\n            <div>{assabledTags}</div>\n          </>\n        );\n      })}\n    </div>\n  );\n}\n","import { useParams, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { HEADERS, BASE_URL } from \"../globals\";\n\nimport Tags from \"./Tags\";\nimport RecipeListing from \"./RecipeListing\";\n\nexport default function SearchResult(props) {\n  const location = useLocation();\n  const params = useParams();\n\n  const [fetching, setFetching] = useState(true);\n\n  //redux\n  const dispatch = useDispatch();\n\n  const searchResult = useSelector((state) => state.searchResult);\n  const queryText = useSelector((state) => state.queryText);\n  const allTags = useSelector((state) => state.allTags);\n  const queryTags = useSelector((state) => state.queryTags);\n  const isLoaded = useSelector((state) => state.isLoaded);\n  const pageNum = useSelector((state) => state.pageNum);\n  const resultsPerPage = useSelector((state) => state.resultsPerPage);\n\n  // search\n\n  function performTextSearch(\n    _queryText,\n    _pageNum,\n    _resultsPerPage,\n    _queryTags\n  ) {\n    if (\n      !isLoaded ||\n      params.queryText !== queryText ||\n      pageNum !== _pageNum ||\n      resultsPerPage !== _resultsPerPage ||\n      queryTags.toString() !== _queryTags.toString()\n    ) {\n      setFetching(true);\n      dispatch({ type: \"set-query-text\", payload: params.queryText });\n      dispatch({ type: \"set-query-tags\", payload: _queryTags });\n      dispatch({ type: \"set-results-per-page\", payload: _resultsPerPage });\n      dispatch({ type: \"set-page-num\", payload: _pageNum });\n      var options = {\n        method: \"GET\",\n        url: BASE_URL + \"recipes/list\",\n        params: {\n          from: _pageNum * _resultsPerPage,\n          size: _resultsPerPage,\n          tags: _queryTags.toString(),\n          q: params.queryText,\n        },\n        headers: HEADERS,\n      };\n      axios\n        .request(options)\n        .then((response) => {\n          dispatch({ type: \"set-search-results\", payload: response.data });\n          dispatch({ type: \"set-is-loaded\", payload: true });\n          setFetching(false);\n        })\n        .catch((err) => {\n          dispatch({ type: \"set-is-loaded\", payload: false });\n          console.log(err);\n        });\n    }\n  }\n\n  // Tags handling\n\n  // retrieve tags from store or load from API\n  function loadTags() {\n    if (allTags === null) {\n      var options = {\n        method: \"GET\",\n        url: `${BASE_URL}tags/list`,\n        headers: HEADERS,\n      };\n      axios\n        .request(options)\n        .then((res) => {\n          dispatch({ type: \"set-all-tags\", payload: res.data.results });\n        })\n        .catch((err) => {});\n    }\n  }\n\n  function handleTagClick(tagName) {\n    let updatedSelectedTags = [...queryTags];\n    if (queryTags.includes(tagName)) {\n      const tagIndex = updatedSelectedTags.findIndex((x) => x === tagName);\n      updatedSelectedTags.splice(tagIndex, 1);\n    } else {\n      updatedSelectedTags.push(tagName);\n    }\n    performTextSearch(queryText, 0, resultsPerPage, updatedSelectedTags);\n  }\n  // END of tags handling\n\n  // Pagination handling\n  const maxPages = () => {\n    if (searchResult) {\n      return Math.floor(searchResult.count / resultsPerPage);\n    } else {\n      return 0;\n    }\n  };\n\n  function handleResultsPerPageChange(ev) {\n    performTextSearch(queryText, pageNum, ev.target.value, queryTags);\n  }\n\n  function handlePageChange(increment) {\n    const newPage = pageNum + increment;\n    if (!(newPage < 0 || newPage > maxPages())) {\n      performTextSearch(queryText, newPage, resultsPerPage, queryTags);\n    }\n  }\n  // END of paggination handling\n\n  // Component did update?\n  useEffect(() => {\n    loadTags();\n    performTextSearch(queryText, pageNum, resultsPerPage, queryTags);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  return (\n    <main>\n      <aside>\n        {fetching && <p>Fetching...</p>}\n        <input\n          type=\"range\"\n          min=\"10\"\n          max=\"40\"\n          step=\"5\"\n          defaultValue={resultsPerPage}\n          onChange={handleResultsPerPageChange}\n        />\n        <label>{resultsPerPage}</label>\n        <br />\n        <button onClick={() => handlePageChange(-1)}>previous</button>\n        <button onClick={() => handlePageChange(1)}>next</button>\n        <br />\n        <label>\n          page: {pageNum + 1}/{maxPages() + 1}\n        </label>\n        <Tags tags={allTags} handleTagClick={handleTagClick} />\n      </aside>\n\n      {isLoaded ? (\n        <RecipeListing recipes={searchResult.results} />\n      ) : (\n        <p>Loading...</p>\n      )}\n    </main>\n  );\n}\n","import \"./App.css\";\nimport { Route, HashRouter as Router } from \"react-router-dom\";\nimport RecipeDetails from \"./components/RecipeDetails\";\nimport Header from \"./components/Header\";\nimport Feed from \"./components/Feed\";\nimport SearchResult from \"./components/SearchResult\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Route exact path=\"/\" component={Feed} />\n        <Route path=\"/search/:queryText\" component={SearchResult} />\n        <Route exact path=\"/search/\" component={SearchResult} />\n        <Route path=\"/details/:id\" component={RecipeDetails} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n       ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore } from \"redux\";\n\nconst initialState = {\n  searchResult: null,\n  queryText: null,\n  allTags: null,\n  queryTags: [],\n  favourites: [],\n  isLoaded: false,\n  pageNum: 0,\n  resultsPerPage: 20,\n  feed: null,\n};\n\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"add-to-faves\":\n      return {\n        ...state,\n        favourites: [...state.favourites, action.payload],\n      };\n    case \"remove-from-faves\":\n      const index = state.favourites.indexOf(action.payload);\n      const favourites = [...state.favourites];\n      favourites.splice(index, 1);\n      return {\n        ...state,\n        favourites,\n      };\n    case \"set-search-results\":\n      return {\n        ...state,\n        searchResult: action.payload,\n      };\n    case \"set-query-text\":\n      return {\n        ...state,\n        queryText: action.payload,\n      };\n    case \"set-query-tags\":\n      return {\n        ...state,\n        queryTags: action.payload,\n      };\n    case \"set-page-num\":\n      return {\n        ...state,\n        pageNum: action.payload,\n      };\n    case \"set-results-per-page\":\n      return {\n        ...state,\n        resultsPerPage: action.payload,\n      };\n    case \"set-all-tags\":\n      return {\n        ...state,\n        allTags: action.payload,\n      };\n    case \"set-is-loaded\":\n      return {\n        ...state,\n        isLoaded: action.payload,\n      };\n    case \"set-feed\":\n      return {\n        ...state,\n        feed: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true })\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}