(this["webpackJsonptasty-app"]=this["webpackJsonptasty-app"]||[]).push([[0],{36:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c,a,r,s,i=n(0),d=n.n(i),o=n(20),l=n.n(o),j=(n(46),n(47),n(10)),u=n(3),b=n(11),h=n(5),p=n(12),O=n.n(p),x={"x-rapidapi-host":"tasty.p.rapidapi.com","x-rapidapi-key":"65e4251756msh24b324dbde441d4p110b99jsnec75540b02f6"},g="https://tasty.p.rapidapi.com/",f=n(6),v=n(1),m=f.a.div(c||(c=Object(h.a)(["\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n"]))),y=f.a.div(a||(a=Object(h.a)(["\n  width: 400px;\n  height: 400px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover "," {\n    display: flex;\n  }\n"])),(function(e){return e.bgImg}),m),w=f.a.div(r||(r=Object(h.a)(["\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n"]))),_=f.a.span(s||(s=Object(h.a)(["\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n"])));function T(e){var t=e.recipe,n=t.thumbnail_url,c=t.credits,a=t.name,r=t.tags,s=t.id;return Object(v.jsx)(j.b,{to:"/details/".concat(s),children:Object(v.jsxs)(y,{bgImg:n,children:[Object(v.jsxs)(w,{children:[Object(v.jsx)("h2",{children:a}),Object(v.jsxs)("h4",{children:["by: ",c[0].name]})]}),Object(v.jsx)(m,{children:r.map((function(e){return Object(v.jsx)(_,{children:e.display_name},e.id)}))})]})})}n(36);var k,q=f.a.div(k||(k=Object(h.a)(["\n  width: 12vw;\n  & img {\n    width: 10vw;\n  }\n"])));var E,S,C,N,F,I=function(e){return e.recipes.map((function(e){return Object(v.jsx)(j.b,{to:"/details/".concat(e.id),children:Object(v.jsxs)(q,{children:[Object(v.jsx)("img",{src:e.thumbnail_url,alt:""}),Object(v.jsx)("p",{children:e.name})]})},e.id)}))},L=f.a.div(E||(E=Object(h.a)(['\n  display: grid;\n  grid-template-areas:\n    "header header ."\n    "content video related";\n  gap: 1vw;\n  background-color: tomato;\n  padding: 0 1vw 1vw 1vw;\n  grid-template-rows: auto 1fr;\n\n  & * {\n    background: white;\n  }\n']))),D=f.a.div(S||(S=Object(h.a)(["\n  grid-area: header;\n  position: relative;\n\n  & table {\n    position: absolute;\n    top: 1vw;\n    left: 1vw;\n  }\n"]))),P=f.a.div(C||(C=Object(h.a)(["\n  grid-area: video;\n"]))),R=f.a.div(N||(N=Object(h.a)(["\n  grid-area: content;\n  text-align: left;\n"]))),G=f.a.div(F||(F=Object(h.a)(["\n  grid-area: related;\n"])));function z(e){var t=Object(u.g)(),n=Object(u.f)(),c=Object(i.useState)({}),a=Object(b.a)(c,2),r=a[0],s=a[1],d=Object(i.useState)(!1),o=Object(b.a)(d,2),l=o[0],j=o[1],h=Object(i.useState)(null),p=Object(b.a)(h,2),f=p[0],m=p[1],y=r.name,w=r.description,_=r.num_servings,T=r.credits,k=r.cook_time_minutes,q=r.instructions,E=r.nutrition,S=(r.thumbnail_url,r.thumbnail_alt_text,r.id,r.original_video_url),C=r.user_ratings;l&&q.slice().sort((function(e,t){return e.position-t.position}));var N=Object(i.useState)(null),F=Object(b.a)(N,2),z=F[0],X=F[1];return Object(i.useEffect)((function(){var e={method:"GET",url:"".concat(g,"recipes/detail"),params:{id:t.id},headers:x};O.a.request(e).then((function(e){s(e.data),j(!0),console.log(e.data)})).catch((function(e){m(e)}));var n={method:"GET",url:"".concat(g,"recipes/list-similarities"),params:{recipe_id:t.id},headers:x};O.a.request(n).then((function(e){console.log("related: ",e.data),X(e.data.results)})).catch((function(e){console.log(e)}))}),[n]),l?f?Object(v.jsx)("p",{children:f}):Object(v.jsxs)(L,{children:[Object(v.jsxs)(D,{children:[Object(v.jsx)("h1",{children:y}),Object(v.jsxs)("h2",{children:["By: ",T.map((function(e){return e.name+", "}))]}),Object(v.jsxs)("h3",{children:["Servings: ",_," | ",k," minutes"]}),Object(v.jsxs)("h3",{children:["Up votes: ",C.count_positive," | Down votes:"," ",C.count_negative," | Rating:"," ",Math.round(100*C.score),"%"]}),Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Calories"}),Object(v.jsx)("th",{children:E.calories})]})}),Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"carbohydrates"}),Object(v.jsx)("td",{children:E.carbohydrates})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"sugar"}),Object(v.jsx)("td",{children:E.sugar})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"fat"}),Object(v.jsx)("td",{children:E.fat})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"protein"}),Object(v.jsx)("td",{children:E.protein})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"fiber"}),Object(v.jsx)("td",{children:E.fiber})]})]})]})]}),Object(v.jsx)(P,{children:Object(v.jsx)("video",{controls:!0,width:"480",src:S})}),Object(v.jsxs)(R,{children:[w&&Object(v.jsxs)("p",{children:["Description: ",w]}),Object(v.jsxs)("div",{className:"instructions",children:[Object(v.jsx)("h3",{children:"Instructions"}),q.map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:[Object(v.jsxs)("strong",{children:["Step ",e.position]}),Object(v.jsx)("br",{}),e.display_text]},e.id),Object(v.jsx)("br",{})]})}))]})]}),Object(v.jsx)(G,{children:z&&Object(v.jsx)(I,{recipes:z})})]}):Object(v.jsx)("p",{children:"Loading..."})}var X,B=n(4),M=f.a.header(X||(X=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  padding: 0 2vw;\n  border: 1vw tomato solid;\n\n  & div {\n    display: flex;\n    align-items: center;\n  }\n\n  & li {\n    display: inline;\n    margin: 1vw;\n  }\n\n  & form {\n    display: flex;\n    gap: 1vw;\n  }\n"])));function U(e){var t=Object(u.e)(),n=Object(i.useState)(""),c=Object(b.a)(n,2),a=c[0],r=c[1],s=Object(B.b)();return Object(v.jsxs)(M,{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Recipes"}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(j.b,{to:"/",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(j.b,{to:"/search/",children:"Search"})})]})]}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s({type:"set-page-num",payload:0}),t.push("/search/".concat(a))},children:[Object(v.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)}}),Object(v.jsx)("button",{children:"search"})]})]})}var V,J=function(e){var t=e.recipes.map((function(e){return Object(v.jsx)(T,{id:e.id,recipe:e},e.id)}));return console.log(e),Object(v.jsx)("div",{className:"recipe-listing",children:t})},A=f.a.main(V||(V=Object(h.a)(["\n  background: tomato;\n  padding: 0 1vw 1vw 1vw;\n  display: block;\n"])));function H(e){var t=Object(B.b)(),n=Object(B.c)((function(e){return e.feed})),c=Object(i.useState)(null),a=Object(b.a)(c,2),r=a[0],s=a[1];return Object(i.useEffect)((function(){if(!n){var e={method:"GET",url:"".concat(g,"feeds/list"),params:{size:"20",timezone:"+1100",vegetarian:!1,from:"0"},headers:x};O.a.request(e).then((function(e){t({type:"set-feed",payload:e.data})})).catch((function(e){s(e)}))}}),[]),r?Object(v.jsx)("p",{children:r}):n?n?Object(v.jsx)(A,{children:Object(v.jsx)(J,{recipes:n.results[2].items})}):void 0:Object(v.jsx)("p",{children:"Loading Feed..."})}var K=n(17);n(75);function Q(e){var t=e.tags,n=(e.handleTagClick,Object(B.c)((function(e){return e.queryTags})));if(null===e.tags)return Object(v.jsx)(v.Fragment,{});var c=[],a=[];t.forEach((function(e){c.includes(e.type)||c.push(e.type)}));var r=c.findIndex((function(e){return"business_tags"===e}));c.splice(r,1);var s=c.findIndex((function(e){return"feature_page"===e}));return c.splice(s,1),c.forEach((function(e,n){var c=[];t.forEach((function(t,n){e===t.type&&c.push(t)})),a.push(c)})),Object(v.jsx)("div",{className:"tags",children:a.map((function(t){var c=t.map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{className:"tag-box",type:"checkbox",name:t.name,id:t.id,value:t.name,checked:n.includes(t.name),onChange:function(){return e.handleTagClick(t.name)}},t.id),Object(v.jsx)("span",{children:t.display_name})]},"l"+t.id)})}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:t[0].type}),Object(v.jsx)("div",{children:c})]})}))})}function W(e){var t=Object(u.f)(),n=Object(u.g)(),c=Object(i.useState)(!1),a=Object(b.a)(c,2),r=a[0],s=a[1],d=Object(B.b)(),o=Object(B.c)((function(e){return e.searchResult})),l=Object(B.c)((function(e){return e.queryText})),j=Object(B.c)((function(e){return e.allTags})),h=Object(B.c)((function(e){return e.queryTags})),p=Object(B.c)((function(e){return e.isLoaded})),f=Object(B.c)((function(e){return e.pageNum})),m=Object(B.c)((function(e){return e.resultsPerPage}));function y(e,t,c,a){if(!p||n.queryText!==l||f!==t||m!==c||h.toString()!==a.toString()){s(!0),d({type:"set-query-text",payload:n.queryText}),d({type:"set-query-tags",payload:a}),d({type:"set-results-per-page",payload:c}),d({type:"set-page-num",payload:t});var r={method:"GET",url:g+"recipes/list",params:{from:t*c,size:c,tags:a.toString(),q:n.queryText},headers:x};O.a.request(r).then((function(e){d({type:"set-search-results",payload:e.data}),d({type:"set-is-loaded",payload:!0}),s(!1)})).catch((function(e){d({type:"set-is-loaded",payload:!1}),console.log(e)}))}}var w=function(){return o?Math.floor(o.count/m):0};function _(e){var t=f+e;t<0||t>w()||y(0,t,m,h)}return Object(i.useEffect)((function(){!function(){if(null===j){var e={method:"GET",url:"".concat(g,"tags/list"),headers:x};O.a.request(e).then((function(e){d({type:"set-all-tags",payload:e.data.results})})).catch((function(e){}))}}(),y(0,f,m,h)}),[t.pathname]),Object(v.jsxs)("main",{children:[Object(v.jsxs)("aside",{children:[r&&Object(v.jsx)("p",{children:"Fetching..."}),Object(v.jsx)("input",{type:"range",min:"10",max:"40",step:"5",defaultValue:m,onChange:function(e){y(0,f,e.target.value,h)}}),Object(v.jsx)("label",{children:m}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:function(){return _(-1)},children:"previous"}),Object(v.jsx)("button",{onClick:function(){return _(1)},children:"next"}),Object(v.jsx)("br",{}),Object(v.jsxs)("label",{children:["page: ",f+1,"/",w()+1]}),Object(v.jsx)(Q,{tags:j,handleTagClick:function(e){var t=Object(K.a)(h);if(h.includes(e)){var n=t.findIndex((function(t){return t===e}));t.splice(n,1)}else t.push(e);y(0,0,m,t)}})]}),p?Object(v.jsx)(J,{recipes:o.results}):Object(v.jsx)("p",{children:"Loading..."})]})}var Y=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(j.a,{children:[Object(v.jsx)(U,{}),Object(v.jsx)(u.a,{exact:!0,path:"/",component:H}),Object(v.jsx)(u.a,{path:"/search/:queryText",component:W}),Object(v.jsx)(u.a,{exact:!0,path:"/search/",component:W}),Object(v.jsx)(u.a,{path:"/details/:id",component:z})]})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},$=n(2),ee=n(41),te={searchResult:null,queryText:null,allTags:null,queryTags:[],favourites:[],isLoaded:!1,pageNum:0,resultsPerPage:20,feed:null};var ne=Object(ee.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add-to-faves":return Object($.a)(Object($.a)({},e),{},{favourites:[].concat(Object(K.a)(e.favourites),[t.payload])});case"remove-from-faves":var n=e.favourites.indexOf(t.payload),c=Object(K.a)(e.favourites);return c.splice(n,1),Object($.a)(Object($.a)({},e),{},{favourites:c});case"set-search-results":return Object($.a)(Object($.a)({},e),{},{searchResult:t.payload});case"set-query-text":return Object($.a)(Object($.a)({},e),{},{queryText:t.payload});case"set-query-tags":return Object($.a)(Object($.a)({},e),{},{queryTags:t.payload});case"set-page-num":return Object($.a)(Object($.a)({},e),{},{pageNum:t.payload});case"set-results-per-page":return Object($.a)(Object($.a)({},e),{},{resultsPerPage:t.payload});case"set-all-tags":return Object($.a)(Object($.a)({},e),{},{allTags:t.payload});case"set-is-loaded":return Object($.a)(Object($.a)({},e),{},{isLoaded:t.payload});case"set-feed":return Object($.a)(Object($.a)({},e),{},{feed:t.payload});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));l.a.render(Object(v.jsx)(B.a,{store:ne,children:Object(v.jsx)(d.a.StrictMode,{children:Object(v.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[76,1,2]]]);
//# sourceMappingURL=main.debc31a3.chunk.js.map