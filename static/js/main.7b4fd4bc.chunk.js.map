{"version":3,"sources":["globals.js","hooks/api.js","components/Recipe.jsx","components/RelatedRecipeListing.jsx","components/RecipeDetails.jsx","components/Header.jsx","components/FeedItem.jsx","components/Featured.jsx","components/FeedListing.jsx","components/Feed.jsx","components/Tags.jsx","components/RecipeListing.jsx","components/SearchResult.jsx","components/Faves.jsx","App.jsx","reportWebVitals.js","redux/store.js","index.js"],"names":["HEADERS","process","BASE_URL","useFavourites","dispatch","useDispatch","faves","useSelector","state","toggleFavById","id","console","log","tempFaves","includes","index","indexOf","splice","push","localStorage","setItem","JSON","stringify","type","payload","Tags","styled","div","RecipeCard","props","bgImg","Header","Tag","span","Recipe","recipe","thumbnail_url","credits","name","tags","className","onClick","to","map","tag","display_name","RelatedRecipes","RelatedRecipeListing","recipes","src","alt","Container","Video","Content","Related","RecipeDetails","params","useParams","location","useLocation","useState","setRecipe","isLoaded","setIsLoaded","error","setError","description","num_servings","cook_time_minutes","instructions","nutrition","original_video_url","thumbnail_alt_text","user_ratings","slice","sort","a","b","position","related","setRelated","useEffect","recipeOptions","method","url","headers","axios","request","then","response","data","catch","relatedOptions","recipe_id","results","err","auth","count_positive","count_negative","Math","round","score","calories","carbohydrates","sugar","fat","protein","fiber","controls","width","ins","display_text","AppHeader","header","history","useHistory","querryText","setQuerryText","handleSubmit","ev","preventDefault","onSubmit","onChange","target","value","Footer","FeedItem","FeaturedContainer","Featured","FeedListingContainer","Trending","FeedListing","feed","items","item","Main","main","Feed","options","size","timezone","vegetarian","from","queryTags","handleTagClick","categories","sortedTags","forEach","btIndex","findIndex","cat","fpIndex","catIndex","tempCaterogyGroup","tagIndex","group","assabledTags","checked","RecipeListing","SearchResult","fetching","setFetching","searchResult","queryText","allTags","pageNum","resultsPerPage","performTextSearch","_queryText","_pageNum","_resultsPerPage","_queryTags","toString","q","maxPages","floor","count","handlePageChange","increment","newPage","res","loadTags","pathname","min","max","step","defaultValue","tagName","updatedSelectedTags","x","Faves","faveRecipes","setFaveRecipes","Promise","all","outcome","fetchAllRecipes","length","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","store","createStore","action","getItem","parse","init","window","__REDUX_DEVTOOLS_EXTENSION__","trace","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b4fd4bc.chunk.js","sourcesContent":["const HEADERS = {\n  \"x-rapidapi-host\": \"tasty.p.rapidapi.com\",\n  \"x-rapidapi-key\": process.env.REACT_APP_TASTY_API_KEY,\n};\nconst BASE_URL = \"https://tasty.p.rapidapi.com/\";\n\nexport { HEADERS, BASE_URL };\n","import { useSelector, useDispatch } from \"react-redux\";\n\nfunction useFavourites() {\n  const dispatch = useDispatch();\n  const faves = useSelector((state) => state.faves);\n\n  function toggleFavById(id) {\n    console.log(`handle fav clicked ${id}`);\n\n    let tempFaves = [...faves];\n    if (tempFaves.includes(id)) {\n      const index = tempFaves.indexOf(id);\n      tempFaves.splice(index, 1);\n    } else {\n      tempFaves.push(id);\n    }\n    localStorage.setItem(\"faves\", JSON.stringify(tempFaves));\n    console.log(tempFaves);\n    dispatch({ type: \"set-faves\", payload: tempFaves });\n  }\n\n  return { toggleFavById };\n}\n\nexport { useFavourites };\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Tags = styled.div`\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n`;\n\nconst RecipeCard = styled.div`\n  width: 400px;\n  height: 400px;\n  background-image: url(${(props) => props.bgImg});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Tags} {\n    display: flex;\n  }\n\n  & .fav {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    color: red;\n    cursor: pointer;\n  }\n`;\n\nconst Header = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n`;\n\nconst Tag = styled.span`\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n`;\n\nexport default function Recipe(props) {\n  const { thumbnail_url, credits, name, tags, id } = props.recipe;\n  const faves = useSelector((state) => state.faves);\n\n  const { toggleFavById } = useFavourites();\n  return (\n    <RecipeCard bgImg={thumbnail_url}>\n      <div className=\"fav material-icons red\" onClick={() => toggleFavById(id)}>\n        {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n      </div>\n      <Link to={`/details/${id}`}>\n        <Header>\n          <h2>{name}</h2>\n          <h4>by: {credits[0].name}</h4>\n        </Header>\n        <Tags>\n          {tags.map((tag) => (\n            <Tag key={tag.id}>{tag.display_name}</Tag>\n          ))}\n        </Tags>\n      </Link>\n    </RecipeCard>\n  );\n}\n","import Recipe from \"./Recipe\";\nimport \"./RecipeListing.css\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst RelatedRecipes = styled.div`\n  width: 12vw;\n  & img {\n    width: 10vw;\n  }\n`;\n\nfunction RelatedRecipeListing(props) {\n  return props.recipes.map((recipe) => (\n    <Link to={`/details/${recipe.id}`} key={recipe.id}>\n      <RelatedRecipes>\n        <img src={recipe.thumbnail_url} alt={\"\"} />\n        <p>{recipe.name}</p>\n      </RelatedRecipes>\n    </Link>\n  ));\n}\n\nexport default RelatedRecipeListing;\n","import { useParams, useLocation } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport styled from \"styled-components\";\nimport RelatedRecipeListing from \"./RelatedRecipeListing\";\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-areas:\n    \"header header .\"\n    \"content video related\";\n  gap: 1vw;\n  ${\"\" /* background-color: tomato; */}\n  padding: 0 1vw 1vw 1vw;\n  grid-template-rows: auto 1fr;\n  max-width: 1200px;\n  margin: 0 auto;\n  height: 88vh;\n  background: white;\n\n  & * {\n    background: white;\n    overflow-y: auto;\n  }\n`;\n\nconst Header = styled.div`\n  grid-area: header;\n  position: relative;\n\n  & table {\n    position: absolute;\n    top: 1vw;\n    right: 1vw;\n  }\n`;\nconst Video = styled.div`\n  grid-area: video;\n  border: 1px solid black;\n`;\nconst Content = styled.div`\n  grid-area: content;\n  text-align: left;\n  border: 1px solid black;\n`;\n\nconst Related = styled.div`\n  grid-area: related;\n  border: 1px solid black;\n`;\n\nexport default function RecipeDetails(props) {\n  const params = useParams();\n  const location = useLocation();\n  const [recipe, setRecipe] = useState({});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(null);\n\n  const {\n    name,\n    description,\n    num_servings,\n    credits,\n    cook_time_minutes,\n    instructions,\n    nutrition,\n    thumbnail_url,\n    thumbnail_alt_text,\n    id,\n    original_video_url,\n    user_ratings,\n  } = recipe;\n\n  // in case instrucions do not come in order\n  let sortedInstructions = [];\n  if (isLoaded) {\n    sortedInstructions = instructions.slice();\n    sortedInstructions.sort((a, b) => a.position - b.position);\n  }\n\n  const [related, setRelated] = useState(null);\n  useEffect(() => {\n    const recipeOptions = {\n      method: \"GET\",\n      url: `${BASE_URL}recipes/detail`,\n      params: { id: params.id },\n      headers: HEADERS,\n    };\n    axios\n      .request(recipeOptions)\n      .then((response) => {\n        setRecipe(response.data);\n        setIsLoaded(true);\n        console.log(response.data);\n      })\n      .catch(function (error) {\n        setError(error);\n      });\n\n    var relatedOptions = {\n      method: \"GET\",\n      url: `${BASE_URL}recipes/list-similarities`,\n      params: { recipe_id: params.id },\n      headers: HEADERS,\n    };\n    axios\n      .request(relatedOptions)\n      .then((response) => {\n        console.log(\"related: \", response.data);\n        setRelated(response.data.results);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [location]);\n\n  if (!isLoaded) {\n    return <p>Loading...</p>;\n  } else if (error) {\n    return <p>{error}</p>;\n  } else {\n    return (\n      <Container>\n        <Header>\n          <h1>{name}</h1>\n          <h2>By: {credits.map((auth) => auth.name + \", \")}</h2>\n          <h3>\n            Servings: {num_servings} | {cook_time_minutes} minutes\n          </h3>\n          <h3>\n            Up votes: {user_ratings.count_positive} | Down votes:{\" \"}\n            {user_ratings.count_negative} | Rating:{\" \"}\n            {Math.round(user_ratings.score * 100)}%\n          </h3>\n          {nutrition.calories && (\n            <table>\n              <thead>\n                <tr>\n                  <th>Calories</th>\n                  <th>{nutrition.calories}</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td>carbohydrates</td>\n                  <td>{nutrition.carbohydrates}</td>\n                </tr>\n                <tr>\n                  <td>sugar</td>\n                  <td>{nutrition.sugar}</td>\n                </tr>\n                <tr>\n                  <td>fat</td>\n                  <td>{nutrition.fat}</td>\n                </tr>\n                <tr>\n                  <td>protein</td>\n                  <td>{nutrition.protein}</td>\n                </tr>\n                <tr>\n                  <td>fiber</td>\n                  <td>{nutrition.fiber}</td>\n                </tr>\n              </tbody>\n            </table>\n          )}\n        </Header>\n        <Video>\n          <video controls width=\"480\" src={original_video_url}></video>\n          {description && <p>{description}</p>}\n        </Video>\n        <Content>\n          <div className=\"instructions\">\n            <h3>Instructions</h3>\n            {instructions.map((ins) => (\n              <>\n                <p key={ins.id}>\n                  <strong>Step {ins.position}</strong>\n                  <br />\n                  {ins.display_text}\n                </p>\n                <br />\n              </>\n            ))}\n          </div>\n        </Content>\n        <Related>\n          {related && (\n            <>\n              <h3>Related</h3>\n              <RelatedRecipeListing recipes={related} />\n            </>\n          )}\n        </Related>\n      </Container>\n    );\n  }\n}\n","import { useHistory, Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\n\nconst AppHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  padding: 1vw 2vw;\n  background-color: #282c34;\n  color: hsl(0, 0%, 100%);\n\n  & a {\n    color: hsl(0, 0%, 100%);\n    font-size: calc(10px + 1.5vmin);\n    text-decoration: none;\n  }\n\n  & input {\n    font-size: calc(10px + 1.5vmin);\n  }\n\n  & a:hover {\n    color: lightcoral;\n  }\n\n  & div {\n    display: flex;\n    align-items: center;\n  }\n\n  & li {\n    display: inline;\n    margin: 1vw;\n  }\n\n  & form {\n    display: flex;\n    gap: 1vw;\n  }\n`;\n\nexport default function Header(props) {\n  const history = useHistory();\n  const [querryText, setQuerryText] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleQuerryTextChange = (ev) => setQuerryText(ev.target.value);\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n    dispatch({ type: \"set-page-num\", payload: 0 });\n    history.push(`/search/${querryText}`);\n  };\n\n  return (\n    <AppHeader>\n      <div>\n        <h1>Tasty recipes</h1>\n        <ul>\n          <li>\n            <Link to={\"/\"}>Home</Link>\n          </li>\n          <li>\n            <Link to={\"/search/\"}>Search</Link>\n          </li>\n          <li>\n            <Link to={\"/faves/\"}>Faves</Link>\n          </li>\n        </ul>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleQuerryTextChange} />\n        <input type=\"button\" value=\"search\" onClick={handleSubmit} />\n      </form>\n    </AppHeader>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Footer = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0), hsl(0, 0%, 0%, 0.9));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n`;\n\nconst RecipeCard = styled.div`\n  width: 180px;\n  height: 180px;\n  background-image: url(${(props) => props.bgImg});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Footer} {\n    display: block;\n  }\n\n  & .fav {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    color: red;\n    cursor: pointer;\n  }\n`;\n\nexport default function FeedItem(props) {\n  const { thumbnail_url, credits, name, tags, id } = props.recipe;\n  const faves = useSelector((state) => state.faves);\n\n  const { toggleFavById } = useFavourites();\n  return (\n    <RecipeCard bgImg={thumbnail_url}>\n      <div className=\"fav material-icons\" onClick={() => toggleFavById(id)}>\n        {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n      </div>\n      <Link to={`/details/${id}`}>\n        <Footer>\n          <h4>{name}</h4>\n        </Footer>\n      </Link>\n    </RecipeCard>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useFavourites } from \"../hooks/api\";\nimport { useSelector } from \"react-redux\";\n\nconst Tags = styled.div`\n  color: hsla(0, 0%, 100%);\n  position: absolute;\n  display: none;\n  flex-wrap: wrap;\n  gap: 0.25vw;\n  padding: 1.5vw 0.25vw 0.25vw 0.25vw;\n  bottom: 0;\n  background-image: linear-gradient(\n    hsla(0, 0%, 100%, 0),\n    hsla(0, 0%, 100%, 0.9)\n  );\n`;\n\nconst FeaturedContainer = styled.div`\n  width: 50vw;\n  padding: 1vw;\n  position: relative;\n  box-shadow: 10px 10px 30px hsl(0, 0%, 25%);\n\n  &:hover {\n    box-shadow: 10px 10px 30px hsl(90, 100%, 24%);\n  }\n\n  &:hover ${Tags} {\n    display: flex;\n  }\n\n  & .fav {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    color: red;\n    cursor: pointer;\n  }\n\n  & img {\n    width: 100%;\n  }\n`;\n\nconst Header = styled.div`\n  background-image: linear-gradient(hsl(0, 0%, 0%, 0.9), hsl(0, 0%, 0%, 0));\n  color: hsl(0, 100%, 100%);\n  margin: 0;\n  padding-top: 1vw;\n  padding-bottom: 2vw;\n`;\n\nconst Tag = styled.span`\n  background-color: lightcoral;\n  border-radius: 00.25vw;\n  padding: 00.25vw;\n`;\n\nexport default function Featured(props) {\n  const { thumbnail_url, thumbnail_alt_text, credits, name, tags, id } =\n    props.recipe;\n  const faves = useSelector((state) => state.faves);\n\n  const { toggleFavById } = useFavourites();\n  return (\n    <FeaturedContainer bgImg={thumbnail_url}>\n      <div className=\"fav material-icons red\" onClick={() => toggleFavById(id)}>\n        {faves.includes(id) ? \"favorite\" : \"favorite_border\"}\n      </div>\n      <Link to={`/details/${id}`}>\n        <img src={thumbnail_url} alt={thumbnail_alt_text} />\n        <h2>{name}</h2>\n        <h4>by: {credits[0].name}</h4>\n      </Link>\n    </FeaturedContainer>\n  );\n}\n","import FeedItem from \"./FeedItem\";\nimport \"./RecipeListing.css\";\nimport Featured from \"./Featured\";\nimport styled from \"styled-components\";\n\nconst FeedListingContainer = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  background-color: white;\n  gap: 3vw;\n  padding: 3vw;\n\n  & h1 {\n    font-size: calc(10px + 4vmin);\n  }\n`;\n\nconst Trending = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 3vw;\n`;\n\nexport default function FeedListing(props) {\n  const feed = props.feed.results[2].items.map((recipe) => (\n    <FeedItem key={recipe.id} id={recipe.id} recipe={recipe} />\n  ));\n\n  console.log(props);\n  return (\n    <FeedListingContainer>\n      <div>\n        <Featured recipe={props.feed.results[0].item} />\n      </div>\n      <div>\n        <h1>{props.feed.results[2].name}</h1>\n        <Trending>{feed}</Trending>\n      </div>\n    </FeedListingContainer>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport FeedListing from \"./FeedListing\";\nimport styled from \"styled-components\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Main = styled.main`\n  padding: 1vw;\n  display: block;\n`;\n\nexport default function Feed(props) {\n  const dispatch = useDispatch();\n  const feed = useSelector((state) => state.feed);\n\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!feed) {\n      var options = {\n        method: \"GET\",\n        url: `${BASE_URL}feeds/list`,\n        params: {\n          size: \"20\",\n          timezone: \"+1100\",\n          vegetarian: false,\n          from: \"0\",\n        },\n        headers: HEADERS,\n      };\n\n      axios\n        .request(options)\n        .then((response) => {\n          dispatch({\n            type: \"set-feed\",\n            payload: response.data,\n          });\n        })\n        .catch((err) => {\n          setError(err);\n        });\n    }\n  }, []);\n\n  if (error) {\n    return <p>{error}</p>;\n  }\n\n  if (!feed) {\n    return <p>Loading Feed...</p>;\n  }\n\n  if (feed) {\n    return (\n      <Main>\n        <FeedListing feed={feed} />\n      </Main>\n    );\n  }\n}\n","import \"./Tags.css\";\nimport { useSelector } from \"react-redux\";\n\nexport default function Tags(props) {\n  const { tags, handleTagClick } = props;\n  const queryTags = useSelector((state) => state.queryTags);\n\n  if (props.tags === null) return <></>;\n\n  const categories = [];\n  const sortedTags = [];\n  tags.forEach((tag) => {\n    if (!categories.includes(tag.type)) categories.push(tag.type);\n  });\n\n  // remove internal busines tags\n  const btIndex = categories.findIndex((cat) => cat === \"business_tags\");\n  categories.splice(btIndex, 1);\n  const fpIndex = categories.findIndex((cat) => cat === \"feature_page\");\n  categories.splice(fpIndex, 1);\n\n  categories.forEach((cat, catIndex) => {\n    const tempCaterogyGroup = [];\n    tags.forEach((tag, tagIndex) => {\n      if (cat === tag.type) tempCaterogyGroup.push(tag);\n    });\n    sortedTags.push(tempCaterogyGroup);\n  });\n\n  return (\n    <div className=\"tags\">\n      {sortedTags.map((group) => {\n        const assabledTags = group.map((tag) => (\n          <>\n            <label key={\"l\" + tag.id}>\n              <input\n                className=\"tag-box\"\n                type=\"checkbox\"\n                name={tag.name}\n                id={tag.id}\n                key={tag.id}\n                value={tag.name}\n                checked={queryTags.includes(tag.name)}\n                onChange={() => props.handleTagClick(tag.name)}\n              />\n              <span>{tag.display_name}</span>\n            </label>\n          </>\n        ));\n        return (\n          <>\n            <h2>{group[0].type}</h2>\n            <div>{assabledTags}</div>\n          </>\n        );\n      })}\n    </div>\n  );\n}\n","import Recipe from \"./Recipe\";\nimport \"./RecipeListing.css\";\n\nfunction RecipeListing(props) {\n  const recipes = props.recipes.map((recipe) => (\n    <Recipe key={recipe.id} id={recipe.id} recipe={recipe} />\n  ));\n\n  console.log(props);\n  return <div className=\"recipe-listing\">{recipes}</div>;\n}\n\nexport default RecipeListing;\n","import { useParams, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { HEADERS, BASE_URL } from \"../globals\";\n\nimport Tags from \"./Tags\";\nimport RecipeListing from \"./RecipeListing\";\n\nexport default function SearchResult(props) {\n  const location = useLocation();\n  const params = useParams();\n\n  const [fetching, setFetching] = useState(false);\n\n  //redux\n  const dispatch = useDispatch();\n\n  const searchResult = useSelector((state) => state.searchResult);\n  const queryText = useSelector((state) => state.queryText);\n  const allTags = useSelector((state) => state.allTags);\n  const queryTags = useSelector((state) => state.queryTags);\n  const isLoaded = useSelector((state) => state.isLoaded);\n  const pageNum = useSelector((state) => state.pageNum);\n  const resultsPerPage = useSelector((state) => state.resultsPerPage);\n\n  // search\n\n  function performTextSearch(\n    _queryText,\n    _pageNum,\n    _resultsPerPage,\n    _queryTags\n  ) {\n    if (\n      !isLoaded ||\n      params.queryText !== queryText ||\n      pageNum !== _pageNum ||\n      resultsPerPage !== _resultsPerPage ||\n      queryTags.toString() !== _queryTags.toString()\n    ) {\n      setFetching(true);\n      dispatch({ type: \"set-query-text\", payload: params.queryText });\n      dispatch({ type: \"set-query-tags\", payload: _queryTags });\n      dispatch({ type: \"set-results-per-page\", payload: _resultsPerPage });\n      dispatch({ type: \"set-page-num\", payload: _pageNum });\n      var options = {\n        method: \"GET\",\n        url: BASE_URL + \"recipes/list\",\n        params: {\n          from: _pageNum * _resultsPerPage,\n          size: _resultsPerPage,\n          tags: _queryTags.toString(),\n          q: params.queryText,\n        },\n        headers: HEADERS,\n      };\n      axios\n        .request(options)\n        .then((response) => {\n          dispatch({ type: \"set-search-results\", payload: response.data });\n          dispatch({ type: \"set-is-loaded\", payload: true });\n          setFetching(false);\n        })\n        .catch((err) => {\n          dispatch({ type: \"set-is-loaded\", payload: false });\n          console.log(err);\n        });\n    }\n  }\n\n  // Tags handling\n\n  // retrieve tags from store or load from API\n  function loadTags() {\n    if (allTags === null) {\n      var options = {\n        method: \"GET\",\n        url: `${BASE_URL}tags/list`,\n        headers: HEADERS,\n      };\n      axios\n        .request(options)\n        .then((res) => {\n          dispatch({ type: \"set-all-tags\", payload: res.data.results });\n        })\n        .catch((err) => {});\n    }\n  }\n\n  function handleTagClick(tagName) {\n    let updatedSelectedTags = [...queryTags];\n    if (queryTags.includes(tagName)) {\n      const tagIndex = updatedSelectedTags.findIndex((x) => x === tagName);\n      updatedSelectedTags.splice(tagIndex, 1);\n    } else {\n      updatedSelectedTags.push(tagName);\n    }\n    performTextSearch(queryText, 0, resultsPerPage, updatedSelectedTags);\n  }\n  // END of tags handling\n\n  // Pagination handling\n  const maxPages = () => {\n    if (searchResult) {\n      return Math.floor(searchResult.count / resultsPerPage);\n    } else {\n      return 0;\n    }\n  };\n\n  function handleResultsPerPageChange(ev) {\n    performTextSearch(queryText, pageNum, ev.target.value, queryTags);\n  }\n\n  function handlePageChange(increment) {\n    const newPage = pageNum + increment;\n    if (!(newPage < 0 || newPage > maxPages())) {\n      performTextSearch(queryText, newPage, resultsPerPage, queryTags);\n    }\n  }\n  // END of paggination handling\n\n  // Component did update?\n  useEffect(() => {\n    loadTags();\n    performTextSearch(queryText, pageNum, resultsPerPage, queryTags);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  return (\n    <main>\n      <aside>\n        {fetching && <p>Fetching...</p>}\n        <input\n          type=\"range\"\n          min=\"10\"\n          max=\"40\"\n          step=\"5\"\n          defaultValue={resultsPerPage}\n          onChange={handleResultsPerPageChange}\n        />\n        <label>{resultsPerPage}</label>\n        <br />\n        <button onClick={() => handlePageChange(-1)}>previous</button>\n        <button onClick={() => handlePageChange(1)}>next</button>\n        <br />\n        <label>\n          page: {pageNum + 1}/{maxPages() + 1}\n        </label>\n        <Tags tags={allTags} handleTagClick={handleTagClick} />\n      </aside>\n\n      {isLoaded ? (\n        <RecipeListing recipes={searchResult.results} />\n      ) : (\n        <p>Loading...</p>\n      )}\n    </main>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport RecipeListing from \"./RecipeListing\";\nimport styled from \"styled-components\";\nimport { HEADERS, BASE_URL } from \"../globals\";\nimport { useSelector } from \"react-redux\";\n\nconst Main = styled.main`\n  ${\n    \"\" /* background: tomato;\n  padding: 0 1vw 1vw 1vw; */\n  }\n  display: block;\n  height: 90vh;\n`;\n\nexport default function Faves(props) {\n  const faves = useSelector((state) => state.faves);\n  const [error, setError] = useState(null);\n  const [faveRecipes, setFaveRecipes] = useState([]);\n\n  useEffect(() => {\n    async function fetchAllRecipes() {\n      let outcome = await Promise.all(\n        faves.map(async (id) => {\n          const recipeOptions = {\n            method: \"GET\",\n            url: `${BASE_URL}recipes/detail`,\n            params: { id: id },\n            headers: HEADERS,\n          };\n          const response = await axios.request(recipeOptions);\n          return response.data;\n        })\n      );\n      setFaveRecipes(outcome);\n    }\n\n    fetchAllRecipes();\n  }, [faves]);\n\n  if (error) {\n    return <p>{error.toString()}</p>;\n  }\n\n  if (!faveRecipes.length) {\n    return <p>You dont have any favourite recipes yet</p>;\n  } else {\n    return (\n      <Main>\n        <h1>Favourites</h1>\n        <RecipeListing recipes={faveRecipes} />\n      </Main>\n    );\n  }\n}\n","import \"./App.css\";\nimport { Route, HashRouter as Router } from \"react-router-dom\";\nimport RecipeDetails from \"./components/RecipeDetails\";\nimport Header from \"./components/Header\";\nimport Feed from \"./components/Feed\";\nimport SearchResult from \"./components/SearchResult\";\nimport Faves from \"./components/Faves\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <Route exact path=\"/\" component={Feed} />\n        <Route path=\"/search/:queryText\" component={SearchResult} />\n        <Route exact path=\"/search/\" component={SearchResult} />\n        <Route path=\"/details/:id\" component={RecipeDetails} />\n        <Route path=\"/faves/\" component={Faves} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n       ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore } from \"redux\";\n\nconst initialState = {\n  searchResult: null,\n  queryText: null,\n  allTags: null,\n  queryTags: [],\n  faves: [],\n  isLoaded: false,\n  pageNum: 0,\n  resultsPerPage: 20,\n  feed: null,\n};\n\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"set-faves\":\n      return {\n        ...state,\n        faves: action.payload,\n      };\n    case \"set-search-results\":\n      return {\n        ...state,\n        searchResult: action.payload,\n      };\n    case \"set-query-text\":\n      return {\n        ...state,\n        queryText: action.payload,\n      };\n    case \"set-query-tags\":\n      return {\n        ...state,\n        queryTags: action.payload,\n      };\n    case \"set-page-num\":\n      return {\n        ...state,\n        pageNum: action.payload,\n      };\n    case \"set-results-per-page\":\n      return {\n        ...state,\n        resultsPerPage: action.payload,\n      };\n    case \"set-all-tags\":\n      return {\n        ...state,\n        allTags: action.payload,\n      };\n    case \"set-is-loaded\":\n      return {\n        ...state,\n        isLoaded: action.payload,\n      };\n    case \"set-feed\":\n      return {\n        ...state,\n        feed: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nfunction init() {\n  const data = localStorage.getItem(\"faves\");\n  return data ? JSON.parse(data) : [];\n}\n\nexport const store = createStore(\n  reducer,\n  { ...initialState, faves: init() }, // Initialise favourites from local storage\n  // suscribe\n  window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true })\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}